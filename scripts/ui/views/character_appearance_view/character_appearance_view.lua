-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
local Definitions = require("scripts/ui/views/character_appearance_view/character_appearance_view_definitions")
local CharacterAppearanceViewSettings = require("scripts/ui/views/character_appearance_view/character_appearance_view_settings")
local UIWorldSpawner = require("scripts/managers/ui/ui_world_spawner")
local ViewElementInputLegend = require("scripts/ui/view_elements/view_element_input_legend/view_element_input_legend")
local CharacterAppearanceViewTestify = GameParameters.testify and require("scripts/ui/views/character_appearance_view/character_appearance_view_testify")
local UIProfileSpawner = require("scripts/managers/ui/ui_profile_spawner")
local ContentBlueprints = require("scripts/ui/views/character_appearance_view/character_appearance_view_content_blueprints")
local DefaultViewInputSettings = require("scripts/settings/input/default_view_input_settings")
local TextUtils = require("scripts/utilities/ui/text")
local ItemSlotSettings = require("scripts/settings/item/item_slot_settings")
local UIWidget = require("scripts/managers/ui/ui_widget")
local UIWidgetGrid = require("scripts/ui/widget_logic/ui_widget_grid")
local UISoundEvents = require("scripts/settings/ui/ui_sound_events")
local UIRenderer = require("scripts/managers/ui/ui_renderer")
local CharacterAppearanceViewFontStyle = require("scripts/ui/views/character_appearance_view/character_appearance_view_font_style")
local UIFonts = require("scripts/managers/ui/ui_fonts")
local ScrollbarPassTemplates = require("scripts/ui/pass_templates/scrollbar_pass_templates")
local ScriptWorld = require("scripts/foundation/utilities/script_world")
local EyeMaterialOverrides = require("scripts/settings/equipment/item_material_overrides/player_material_overrides_eye_colors")
local SkinMaterialOverrides = require("scripts/settings/equipment/item_material_overrides/player_material_overrides_skin_colors")
local HairMaterialOverrides = require("scripts/settings/equipment/item_material_overrides/player_material_overrides_hair_colors")
local HomePlanets = require("scripts/settings/character/home_planets")
local Childhood = require("scripts/settings/character/childhood")
local GrowingUp = require("scripts/settings/character/growing_up")
local FormativeEvent = require("scripts/settings/character/formative_event")
local Crimes = require("scripts/settings/character/crimes")
local Personalities = require("scripts/settings/character/personalities")
local Breeds = require("scripts/settings/breed/breeds")
local CharacterAppearanceView = class("CharacterAppearanceView", "BaseView")
local InputUtils = require("scripts/managers/input/input_utils")
local eye_types = {
	{
		icon_texture = "content/ui/textures/icons/appearances/eyes/eyes_r1_l1",
		name = "no_blind"
	},
	{
		icon_texture = "content/ui/textures/icons/appearances/eyes/eyes_r0_l1",
		name = "blind_left"
	},
	{
		icon_texture = "content/ui/textures/icons/appearances/eyes/eyes_r1_l0",
		name = "blind_right"
	},
	{
		icon_texture = "content/ui/textures/icons/appearances/eyes/eyes_r0_l0",
		name = "blind_both"
	}
}
local choices_presentation = {
	home_planet = {
		description = "loc_character_birthplace_planet_title_name",
		icon_texture = "content/ui/textures/icons/generic/placeholder_childhood"
	},
	childhood = {
		description = "loc_character_childhood_title_name",
		icon_texture = "content/ui/textures/icons/generic/placeholder_childhood"
	},
	growing_up = {
		description = "loc_character_growing_up_title_name",
		icon_texture = "content/ui/textures/icons/generic/placeholder_growingup"
	},
	formative_event = {
		description = "loc_character_event_title_name",
		icon_texture = "content/ui/textures/icons/generic/placeholder_formative"
	}
}
local eye_colors = nil

local function sort_by_order(appearance_a, appearance_b)
	if appearance_a.sort_order and appearance_b.sort_order then
		return appearance_a.sort_order < appearance_b.sort_order
	else
		return false
	end
end

CharacterAppearanceView.init = function (self, settings, context)
	self._character_create = context.character_create
	self._profile_versions = table.clone(self._character_create:profile_value_versions())
	self._parent = context and context.parent

	CharacterAppearanceView.super.init(self, Definitions, settings)

	self._pass_draw = true
end

CharacterAppearanceView.on_enter = function (self)
	CharacterAppearanceView.super.on_enter(self)

	self._current_progress = 0
	self._page_grids = {}
	self._camera_zoomed = false
	self._gear_visible = false
	self._page_indicator_widgets = {}
	self._is_character_showing = false
	self._active_page_number = 1
	self._block_continue = {}
	self._pages = self:_get_pages()
	self._character_name_status = {
		custom = false
	}

	for i = 1, #self._pages, 1 do
		self._block_continue[i] = {
			false
		}
	end

	self._navigation = {
		index = 0,
		grid = 0
	}
	self._backstory_selection_page = nil
	self._backstory_selection = nil

	self:_register_event("update_character_sync_state", "_event_profile_sync_changed")

	local is_syncing = (self._parent and self._parent._character_is_syncing) or false

	self:_event_profile_sync_changed(is_syncing)
	self:_create_offscreen_renderer()
	self:_setup_input_legend()
	self:_setup_button_callbacks()
	self:_setup_profile_background()
	self:_create_page_indicators()
	self._character_create:reset_backstory()
	self:_randomize_character_backstory()
	self:_open_page(1)
end

CharacterAppearanceView._create_offscreen_renderer = function (self)
	local view_name = self.view_name
	local world_layer = 10
	local world_name = self.__class_name .. "_ui_offscreen_world"
	local world = Managers.ui:create_world(world_name, world_layer, nil, view_name)
	local viewport_name = "offscreen_viewport"
	local viewport_type = "overlay_offscreen"
	local viewport_layer = 1
	local viewport = Managers.ui:create_viewport(world, viewport_name, viewport_type, viewport_layer)
	local renderer_name = self.__class_name .. "offscreen_renderer"
	self._offscreen_renderer = Managers.ui:create_renderer(renderer_name, world)
	self._offscreen_world = {
		name = world_name,
		world = world,
		viewport = viewport,
		viewport_name = viewport_name,
		renderer_name = renderer_name
	}
end

CharacterAppearanceView._setup_input_legend = function (self)
	self._input_legend_element = self:_add_element(ViewElementInputLegend, "input_legend", 10)
	local legend_inputs = self._definitions.legend_inputs

	for i = 1, #legend_inputs, 1 do
		local legend_input = legend_inputs[i]
		local on_pressed_callback = (legend_input.on_pressed_callback and callback(self, legend_input.on_pressed_callback)) or function ()
			return
		end

		self._input_legend_element:add_entry(legend_input.display_name, legend_input.input_action, legend_input.visibility_function, on_pressed_callback, legend_input.alignment)
	end
end

CharacterAppearanceView._setup_button_callbacks = function (self)
	self._widgets_by_name.continue_button.content.hotspot.pressed_callback = callback(self, "_on_continue_pressed")
end

CharacterAppearanceView._setup_background_world = function (self)
	local breed_name = self._character_create:breed()
	local default_camera_event_id = "event_register_character_appearance_default_camera_" .. breed_name

	self[default_camera_event_id] = function (self, camera_unit)
		self._default_camera_unit = camera_unit
		local viewport_name = CharacterAppearanceViewSettings.viewport_name
		local viewport_type = CharacterAppearanceViewSettings.viewport_type
		local viewport_layer = CharacterAppearanceViewSettings.viewport_layer
		local shading_environment = CharacterAppearanceViewSettings.shading_environment

		self._world_spawner:create_viewport(camera_unit, viewport_name, viewport_type, viewport_layer, shading_environment)
		self:_unregister_event(default_camera_event_id)
	end

	self:_register_event(default_camera_event_id)

	self._camera_by_slot_id = {}

	for slot_name, slot in pairs(ItemSlotSettings) do
		if slot.slot_type == "body" then
			local item_camera_event_id = "event_register_character_appearance_camera_" .. breed_name .. "_" .. slot_name

			self[item_camera_event_id] = function (self, camera_unit)
				self._camera_by_slot_id[slot_name] = camera_unit
				self._camera_zoomed = self:_is_camera_zoomed(slot_name)

				self:_unregister_event(item_camera_event_id)
			end

			self:_register_event(item_camera_event_id)
		end
	end

	self:_register_event("event_register_character_spawn_point")

	local world_name = CharacterAppearanceViewSettings.world_name
	local world_layer = CharacterAppearanceViewSettings.world_layer
	local world_timer_name = CharacterAppearanceViewSettings.timer_name
	self._world_spawner = UIWorldSpawner:new(world_name, world_layer, world_timer_name, self.view_name)
	local level_name = CharacterAppearanceViewSettings.level_name

	self._world_spawner:spawn_level(level_name)
end

CharacterAppearanceView._setup_profile_background = function (self)
	local profile = self._character_create:profile()
	local selected_archetype = profile.archetype
	self._widgets_by_name.list_background.content.class_background = selected_archetype.archetype_selection_background
	local selected_archetype_name = selected_archetype.name
	self._widgets_by_name.list_background.style.class_background.color = Color["ui_" .. selected_archetype_name](51, true)
	self._widgets_by_name.list_description.style.text.text_color = Color["ui_" .. selected_archetype_name .. "_text"](255, true)
	local domain_options = self._character_create:archetype_options()

	for i = 1, #domain_options, 1 do
		local domain_name = domain_options[i].name
		self._widgets_by_name[domain_name .. "_corners"].content.visible = domain_name == selected_archetype_name
	end
end

CharacterAppearanceView.event_register_character_spawn_point = function (self, spawn_point_unit)
	self:_unregister_event("event_register_character_spawn_point")
	self:_spawn_profile(spawn_point_unit)
end

CharacterAppearanceView._spawn_profile = function (self, spawn_point_unit)
	local world = self._world_spawner:world()
	local camera = self._world_spawner:camera()
	local unit_spawner = self._world_spawner:unit_spawner()
	self._profile_spawner = UIProfileSpawner:new("CharacterAppearanceView", world, camera, unit_spawner)
	local spawn_position = Unit.world_position(spawn_point_unit, 1)
	local spawn_rotation = Unit.world_rotation(spawn_point_unit, 1)
	self._spawn_point_position = Vector3.to_array(spawn_position)
	local profile = self._character_create:profile()

	self._profile_spawner:spawn_profile(profile, spawn_position, spawn_rotation)

	local archetype_settings = profile.archetype
	local archetype_name = archetype_settings.name
	local breed_name = archetype_settings.breed
	local breed_settings = Breeds[breed_name]
	local character_creation_state_machine = breed_settings.character_creation_state_machine
	local animations_per_archetype = CharacterAppearanceViewSettings.animations_per_archetype
	local animations_settings = animations_per_archetype[archetype_name]
	local animation_event = animations_settings.initial_event

	self._profile_spawner:assign_state_machine(character_creation_state_machine, animation_event)
end

CharacterAppearanceView._on_continue_pressed = function (self)
	if self._await_validation then
		self._block_continue[self._active_page_number] = {
			true
		}

		self:_show_loading_awaiting_validation(true)

		local name = self._character_create:name()

		self._character_create:check_name(name):next(function (data)
			self:_show_loading_awaiting_validation(false)

			if data.permitted == false then
				return self:_create_errors_name_input({
					data.message
				})
			else
				self._block_continue[self._active_page_number] = {
					false
				}
				self._await_validation = false

				return self:_on_continue_pressed()
			end
		end):catch(function (error)
			self._block_continue[self._active_page_number] = {
				false
			}

			return self:_create_errors_name_input(error)
		end)
	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 30-43, warpins: 1 ---
		local world = Managers.ui:world()
		local wwise_world = Managers.world:wwise_world(world)

		if self._current_sound_id and WwiseWorld.is_playing(wwise_world, self._current_sound_id) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-55, warpins: 1 ---
			WwiseWorld.stop_event(wwise_world, self._current_sound_id)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 56-60, warpins: 3 ---
		local active_page_number = self._active_page_number
		local num_pages = #self._pages

		if active_page_number == num_pages then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 61-63, warpins: 1 ---
			if not self._popup_finish_open then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 64-88, warpins: 1 ---
				self._popup_finish_open = true
				local context = {
					title_text = "loc_popup_header_create_character",
					description_text = "loc_popup_description_create_character"
				}
				context.options = {
					{
						text = "loc_popup_button_confirm",
						close_on_pressed = true,
						callback = callback(function ()

							-- Decompilation error in this vicinity:
							--- BLOCK #0 1-7, warpins: 1 ---
							Managers.event:trigger("event_create_new_character_continue")

							return
							--- END OF BLOCK #0 ---



						end)
					},
					{
						text = "loc_popup_button_cancel",
						template_type = "default_button_small",
						close_on_pressed = true,
						hotkey = "back",
						callback = callback(function ()

							-- Decompilation error in this vicinity:
							--- BLOCK #0 1-4, warpins: 1 ---
							self._popup_finish_open = nil

							return
							--- END OF BLOCK #0 ---



						end)
					}
				}

				Managers.event:trigger("event_show_ui_popup", context)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 89-93, warpins: 1 ---
			local next_page_index = active_page_number + 1

			self:_open_page(next_page_index)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end
end

CharacterAppearanceView._randomize_character_appearance = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-26, warpins: 1 ---
	self._character_create:randomize_presets()
	self:_update_appearance_selection()
	self:_update_appearance_icon()
	self._character_create:reset_height()

	local height = self._character_create:height()

	self:_set_character_height(height)

	if self._page_grids[2] and self._page_grids[2].entry and self._page_grids[2].entry.type == "height" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 38-53, warpins: 1 ---
		local template_name = self._page_grids[2].entry.template
		local widget = self._page_grids[2].widgets[1]
		local template = ContentBlueprints.blueprints[template_name]

		template.reset(self, widget)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 54-55, warpins: 3 ---
		self._height_changed = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 56-56, warpins: 2 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._update_appearance_selection = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-65, warpins: 0 ---
	for i = 1, #self._page_grids[1].widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-15, warpins: 2 ---
		local widget = self._page_grids[1].widgets[i]

		if widget.content.element_selected == true then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-26, warpins: 1 ---
			local options = self._pages[self._active_page_number].content.options[i].options

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 27-63, warpins: 0 ---
			for j = 1, #options, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 27-30, warpins: 2 ---
				if options[j].grid_template ~= "single" then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 31-34, warpins: 1 ---
					local selected_value = options[j].get_value_function and options[j].get_value_function()
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 38-45, warpins: 2 ---
					local page_grid = self._page_grids[j + 1]

					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 46-62, warpins: 0 ---
					for k = 1, #page_grid.widgets, 1 do

						-- Decompilation error in this vicinity:
						--- BLOCK #0 46-49, warpins: 2 ---
						local widget = page_grid.widgets[k]

						if selected_value and selected_value == widget.content.entry.value then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 55-58, warpins: 1 ---
							widget.content.element_selected = true
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 59-61, warpins: 2 ---
							widget.content.element_selected = false
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 62-62, warpins: 2 ---
						--- END OF BLOCK #1 ---



					end
					--- END OF BLOCK #2 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 63-63, warpins: 2 ---
				--- END OF BLOCK #1 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 64-64, warpins: 1 ---
			--- END OF BLOCK #2 ---

			FLOW; TARGET BLOCK #3



			-- Decompilation error in this vicinity:
			--- BLOCK #3 65-65, warpins: 1 ---
			break
			--- END OF BLOCK #3 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 65-65, warpins: 1 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 66-66, warpins: 2 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._handle_continue_button_text = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local widgets_by_name = self._widgets_by_name
	local service_type = DefaultViewInputSettings.service_type
	local continue_button_action = "secondary_action_pressed"
	local continue_button_action_display_name, continue_button_text = nil

	if self._backstory_selection_page then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-10, warpins: 1 ---
		continue_button_action_display_name = "loc_character_backstory_selection"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-15, warpins: 1 ---
		if self._active_page_number == #self._pages then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-17, warpins: 1 ---
			continue_button_action_display_name = "loc_character_create_finish"
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-18, warpins: 1 ---
			continue_button_action_display_name = "loc_character_create_advance"
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-21, warpins: 3 ---
	if not self._using_cursor_navigation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 22-33, warpins: 1 ---
		continue_button_text = TextUtils.localize_with_button_hint(continue_button_action, continue_button_action_display_name, nil, service_type, Localize("loc_input_legend_text_template"))
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 34-37, warpins: 1 ---
		continue_button_text = Localize(continue_button_action_display_name)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 38-45, warpins: 2 ---
	widgets_by_name.continue_button.content.text = string.upper(continue_button_text)

	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._randomize_character_backstory = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local backstory_options = self:_get_backstory_content().options

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-44, warpins: 0 ---
	for i = 1, #backstory_options, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-15, warpins: 2 ---
		local available_indexes = {}

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-32, warpins: 0 ---
		for j = 1, #backstory_options[i].options, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-21, warpins: 2 ---
			local backstory = backstory_options[i].options[j]

			if (backstory.visibility_function and backstory.visibility_function()) or not backstory.visibility_function then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 29-31, warpins: 2 ---
				available_indexes[#available_indexes + 1] = j
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 32-32, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 33-44, warpins: 1 ---
		local random_index = math.random(1, #available_indexes)
		local choosen_index = available_indexes[random_index]

		backstory_options[i].options[choosen_index].on_randomize()
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 45-45, warpins: 1 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._randomize_character_name = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local name = self._character_create:randomize_name()
	self._character_name_status.custom = false

	if self._page_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-23, warpins: 1 ---
		local input_widget = self._page_widgets[1]
		local content = input_widget.content
		content.input_text = name
		content.selected_text = nil

		self:_update_character_name()
		self:_update_final_page_text()
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 24-28, warpins: 1 ---
		self._character_create:set_name(name)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 29-29, warpins: 2 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._update_character_name = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	self._character_name_status.custom = true
	self._await_validation = true
	local widget = self._page_widgets[1]
	local name = widget.content.input_text or ""
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 13-20, warpins: 2 ---
	local input_error = true
	local invalid_characters_used = string.match(name, "[^%\\'%\\-%\\`%\\%a]")
	local string_empty = name == ""
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 24-41, warpins: 2 ---
	input_error = string_empty

	self:_create_errors_name_input()

	self._block_continue[self._active_page_number] = {
		input_error
	}

	self._character_create:set_name(name)
	self:_update_final_page_text()

	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._sync_profile_changes = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	local character_create = self._character_create
	local recent_profile_versions = character_create:profile_value_versions()
	local profile_versions = self._profile_versions

	if profile_versions.profile == recent_profile_versions.profile then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-10, warpins: 1 ---
		return
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-14, warpins: 2 ---
	if profile_versions.gender ~= recent_profile_versions.gender then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-16, warpins: 1 ---
		profile_versions.gender = recent_profile_versions.gender
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 17-19, warpins: 2 ---
	profile_versions.profile = recent_profile_versions.profile

	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._change_page_indicator = function (self, index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local page_indicator_widgets = self._page_indicator_widgets

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-14, warpins: 0 ---
	for i = 1, #page_indicator_widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-9, warpins: 2 ---
		local widget = page_indicator_widgets[i]
		widget.content.element_selected = i == index
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-14, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 15-15, warpins: 1 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._move_camera = function (self, revert)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-23, warpins: 1 ---
	local world_spawner = self._world_spawner
	local time = 1.5
	local func_ptr = math.easeOutCubic
	local boxed_camera_start_position = world_spawner:boxed_camera_start_position()
	local default_camera_world_position = Vector3.from_array(boxed_camera_start_position)
	local boxed_camera_start_rotation = world_spawner:boxed_camera_start_rotation()
	local default_camera_world_rotation = boxed_camera_start_rotation:unbox()
	local target_world_position = default_camera_world_position
	local target_world_rotation = default_camera_world_rotation
	local camera_world_position = default_camera_world_position
	local camera_world_rotation = default_camera_world_rotation

	if revert == true then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 24-33, warpins: 1 ---
		world_spawner:set_camera_position_axis_offset("x", target_world_position.x - camera_world_position.x, time, func_ptr)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 34-41, warpins: 1 ---
		local profile = self._character_create:profile()
		local selected_archetype = profile.archetype.name

		if selected_archetype == "ogryn" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-52, warpins: 1 ---
			world_spawner:set_camera_position_axis_offset("x", 1.7 - (target_world_position.x - camera_world_position.x), time, func_ptr)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 53-62, warpins: 1 ---
			world_spawner:set_camera_position_axis_offset("x", 1.2 - (target_world_position.x - camera_world_position.x), time, func_ptr)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 63-78, warpins: 3 ---
	local camera_world_rotation_x, camera_world_rotation_y, camera_world_rotation_z = Quaternion.to_euler_angles_xyz(camera_world_rotation)
	local target_world_rotation_x, target_world_rotation_y, target_world_rotation_z = Quaternion.to_euler_angles_xyz(target_world_rotation)

	world_spawner:set_camera_rotation_axis_offset("x", target_world_rotation_x - camera_world_rotation_x, time, func_ptr)

	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._open_page = function (self, index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	if self._pages[self._active_page_number] and self._pages[self._active_page_number].leave then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-16, warpins: 1 ---
		self._pages[self._active_page_number].leave()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-28, warpins: 3 ---
	self._active_page_number = index
	local page = self._pages[index]

	self:_hide_pages_widgets()
	self:_destroy_generated_widgets()

	if page.show_character and not self._profile_spawner then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 32-40, warpins: 1 ---
		self:_setup_background_world()

		self._widgets_by_name.background.content.visible = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 41-43, warpins: 2 ---
		if not page.show_character and self._profile_spawner then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 47-54, warpins: 1 ---
			self:_destroy_background()

			self._widgets_by_name.background.content.visible = true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 55-60, warpins: 4 ---
	self._widgets_by_name.background.content.texture = page.background and page.background.value
	self._widgets_by_name.background.style.texture.uvs = (page.background and page.background.uvs) or {
		{
			0,
			0
		},
		{
			1,
			1
		}
	}

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 63-70, warpins: 2 ---
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 80-83, warpins: 2 ---
	if page.top_frame then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 84-126, warpins: 1 ---
		self._widgets_by_name.list_background.content.top_frame = "content/ui/materials/base/ui_default_base"
		self._widgets_by_name.list_background.style.top_frame.size = page.top_frame.size
		self._widgets_by_name.list_background.style.top_frame.offset = page.top_frame.offset
		self._widgets_by_name.list_background.style.top_frame.material_values = {
			texture_map = page.top_frame.texture_map
		}
		self._widgets_by_name.list_header.style.divider.color[1] = 0
		self._widgets_by_name.list_header.style.text_title.offset = page.top_frame.title_offset
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 127-162, warpins: 1 ---
		self._widgets_by_name.list_background.content.top_frame = "content/ui/materials/dividers/horizontal_frame_big_upper"
		self._widgets_by_name.list_background.style.top_frame.size = {
			480,
			36
		}
		self._widgets_by_name.list_background.style.top_frame.offset = {
			0,
			-18,
			1
		}
		self._widgets_by_name.list_background.style.top_frame.material_values = nil
		self._widgets_by_name.list_header.style.divider.color[1] = 255
		self._widgets_by_name.list_header.style.text_title.offset = {
			0,
			0,
			2
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 163-165, warpins: 2 ---
	if page.show_character and self._is_character_showing then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 169-173, warpins: 1 ---
		self:_set_camera(page.camera_focus, page.gear_visible)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 174-180, warpins: 3 ---
	self:_change_page_indicator(index)

	if page.enter then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 181-183, warpins: 1 ---
		page:enter()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 184-188, warpins: 2 ---
	local selected_index = nil

	if self._page_grids[1] and self._page_grids[1].widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 194-200, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 201-211, warpins: 0 ---
		for i = 1, #self._page_grids[1].widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 201-208, warpins: 2 ---
			local widget = self._page_grids[1].widgets[i]

			if widget.content.element_selected then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 209-210, warpins: 1 ---
				selected_index = i

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 211-211, warpins: 1 ---
				break
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 211-211, warpins: 1 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 212-214, warpins: 4 ---
	if not self._using_cursor_navigation and selected_index then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 217-222, warpins: 1 ---
		self:_update_current_navigation_position(1, selected_index)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 223-225, warpins: 2 ---
		if not self._using_cursor_navigation then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 226-231, warpins: 1 ---
			self:_update_current_navigation_position(1, 1)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 232-236, warpins: 1 ---
			self:_update_current_navigation_position(1, 0)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 237-237, warpins: 3 ---
	return
	--- END OF BLOCK #9 ---



end

CharacterAppearanceView._populate_page_grid = function (self, index, entry)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if self._page_grids[index] then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-9, warpins: 1 ---
		local grid = self._page_grids[index]
		local widgets = grid.widgets

		if widgets then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-13, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 14-31, warpins: 0 ---
			for i = 1, #widgets, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 14-19, warpins: 2 ---
				local widget = widgets[i]
				local widget_name = widget.name
				local content = widget.content

				if widget.loads_icon and content.icon_load_id then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 23-26, warpins: 1 ---
					self:_unload_appearance_icon(widget)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 27-31, warpins: 3 ---
				self:_unregister_widget_name(widget_name)
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 32-54, warpins: 3 ---
	local widgets = {}
	local alignment_list = {}
	local template_type = entry.template
	local template = ContentBlueprints.blueprints[template_type]
	local grid_template = entry.grid_template
	local grid_start_name = "grid_" .. index .. "_"

	fassert(template, "[CharacterAppearanceView] - Could not find content blueprint for type: %s", template_type)

	local size = template.size
	local pass_template = template.pass_template
	local init = template.init
	local options = entry.options
	local focused_value = entry.get_value_function and entry.get_value_function()
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 57-113, warpins: 2 ---
	local widget_definitions = {}
	widget_definitions.background = UIWidget.create_definition({
		{
			value = "content/ui/materials/backgrounds/blurred_rectangle",
			pass_type = "texture",
			style = {
				vertical_alignment = "center",
				horizontal_alignment = "center",
				color = Color.black(76.5, true)
			}
		}
	}, grid_start_name .. "background")
	widget_definitions.scrollbar = UIWidget.create_definition(ScrollbarPassTemplates.default_scrollbar, grid_start_name .. "scrollbar")
	widget_definitions.interaction = UIWidget.create_definition({
		{
			pass_type = "hotspot",
			content_id = "hotspot"
		}
	}, grid_start_name .. "interaction")
	widget_definitions.mask = UIWidget.create_definition({
		{
			value = "content/ui/materials/offscreen_masks/ui_overlay_offscreen_straight_blur",
			pass_type = "texture",
			style = {
				color = {
					255,
					255,
					255,
					255
				}
			}
		}
	}, grid_start_name .. "mask")
	local support_widgets = {}

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 114-134, warpins: 0 ---
	for name, definition in pairs(widget_definitions) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 114-120, warpins: 1 ---
		local name = grid_start_name .. name

		if self._widgets_by_name[name] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 121-124, warpins: 1 ---
			self:_unregister_widget_name(name)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 125-132, warpins: 2 ---
		support_widgets[#support_widgets + 1] = self:_create_widget(name, definition)
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 133-134, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 135-139, warpins: 1 ---
	local num_widgets = 0

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 140-152, warpins: 0 ---
	for i = 1, #options, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 140-143, warpins: 2 ---
		local option = options[i]

		if (option.visibility_function and option.visibility_function() == true) or not option.visibility_function then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 151-151, warpins: 2 ---
			num_widgets = num_widgets + 1
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 152-152, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 153-169, warpins: 1 ---
	local spacing = {
		0,
		0
	}
	local direction = "down"
	local ui_scenegraph = self._ui_scenegraph
	local scenegraph_spacing = {
		25
	}
	local area_1_mask_margin = {
		30,
		10
	}
	local mask_margin = {
		30,
		30
	}
	local prev_scenegraph_size = {
		0,
		0
	}
	local prev_scenegraph_position = {
		0,
		0
	}
	local scrollbar_diff = 35
	local max_widgets_per_column = num_widgets
	local grid_visible_widgets = num_widgets
	local total_columns = 1
	local using_scrollbar = false

	if index - 1 > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 170-180, warpins: 1 ---
		local prev_grid_start_name = "grid_" .. index - 1 .. "_"
		local prev_scenegraph = self._ui_scenegraph[prev_grid_start_name .. "area"]
		prev_scenegraph_size = prev_scenegraph.size
		prev_scenegraph_position = prev_scenegraph.position
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 181-191, warpins: 2 ---
	local page = self._pages[self._active_page_number]
	local max_area_height = CharacterAppearanceViewSettings.area_grid_size[2]
	local area_height = max_area_height
	local description_text_size = 0

	if page.description then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 192-193, warpins: 1 ---
		if index == 1 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 194-273, warpins: 1 ---
			local size = self:_get_text_size(page.description, "list_description_style")
			local scenegraph = self._ui_scenegraph[grid_start_name .. "area"]
			local text_margin = 15
			description_text_size = size[2] + text_margin * 2
			prev_scenegraph_position = {
				0,
				description_text_size
			}
			area_height = max_area_height - description_text_size

			self:_set_scenegraph_position(grid_start_name .. "area", 0, description_text_size + area_1_mask_margin[2])
			self:_set_scenegraph_size("list_description", nil, description_text_size)
			self:_set_scenegraph_size(grid_start_name .. "area", scenegraph.size[1], area_height - area_1_mask_margin[2] * 2)
			self:_set_scenegraph_size(grid_start_name .. "scrollbar", nil, area_height - scrollbar_diff)
			self:_set_scenegraph_position(grid_start_name .. "scrollbar", nil, area_1_mask_margin[2])
			self:_set_scenegraph_size(grid_start_name .. "mask", scenegraph.size[1] + area_1_mask_margin[1], area_height)
			self:_set_scenegraph_position(grid_start_name .. "content_pivot", 10, nil)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 274-275, warpins: 1 ---
			if index == 2 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 276-278, warpins: 1 ---
				prev_scenegraph_position[2] = 0
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 279-280, warpins: 1 ---
		if index == 1 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 281-346, warpins: 1 ---
			local scenegraph = self._ui_scenegraph[grid_start_name .. "area"]

			self:_set_scenegraph_size("list_description", nil, 0)
			self:_set_scenegraph_position(grid_start_name .. "area", 0, 0)
			self:_set_scenegraph_size(grid_start_name .. "area", scenegraph.size[1], max_area_height - area_1_mask_margin[2] * 2)
			self:_set_scenegraph_size(grid_start_name .. "scrollbar", nil, max_area_height - scrollbar_diff)
			self:_set_scenegraph_position(grid_start_name .. "scrollbar", nil, area_1_mask_margin[2])
			self:_set_scenegraph_size(grid_start_name .. "mask", scenegraph.size[1] + area_1_mask_margin[1], max_area_height)
			self:_set_scenegraph_position(grid_start_name .. "content_pivot", 10, nil)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 347-354, warpins: 1 ---
			self:_set_scenegraph_position(grid_start_name .. "content_pivot", 0, nil)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 355-356, warpins: 5 ---
	if grid_template == "icon" or grid_template == "icon_small" or grid_template == "slot_icon" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 361-366, warpins: 3 ---
		spacing = {
			10,
			10
		}
		local max_height_slots = 6
		local max_num_columns = 3
		local total_widgets = num_widgets

		if grid_template == "icon_small" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 367-368, warpins: 1 ---
			max_height_slots = 8
			max_num_columns = 2
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 369-375, warpins: 2 ---
		total_columns = math.ceil(total_widgets / max_height_slots)

		if max_num_columns < total_columns then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 376-376, warpins: 1 ---
			total_columns = max_num_columns
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 377-388, warpins: 2 ---
		local widgets_per_column = math.floor(total_widgets / total_columns)
		local remaining_widgets = total_widgets % total_columns
		max_widgets_per_column = widgets_per_column + math.ceil(remaining_widgets / total_columns)

		if max_height_slots < max_widgets_per_column then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 389-391, warpins: 1 ---
			using_scrollbar = true
			grid_visible_widgets = max_height_slots
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 392-392, warpins: 1 ---
			grid_visible_widgets = max_widgets_per_column
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 393-394, warpins: 3 ---
	if not grid_template then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 395-402, warpins: 1 ---
		self._widgets_by_name[grid_start_name .. "background"].content.visible = false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #9 ---

	FLOW; TARGET BLOCK #10



	-- Decompilation error in this vicinity:
	--- BLOCK #10 403-451, warpins: 2 ---
	local scenegraph_height = grid_visible_widgets * size[2] + grid_visible_widgets * spacing[2]
	local scenegraph_width = total_columns * size[1] + total_columns * spacing[1]
	local scenegraph_x = prev_scenegraph_position[1] + prev_scenegraph_size[1] + scenegraph_spacing[1]
	local scenegraph_y = scenegraph_spacing[2]
	local grid_scenegraph = grid_start_name .. "area"
	local grid_content_scenegraph = grid_start_name .. "content_pivot"

	self:_set_scenegraph_position(grid_start_name .. "area", scenegraph_x, scenegraph_y)
	self:_set_scenegraph_size(grid_start_name .. "background", scenegraph_width + 80, scenegraph_height + 80)
	self:_set_scenegraph_size(grid_start_name .. "interaction", scenegraph_width, scenegraph_height)

	if index > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 452-453, warpins: 1 ---
		scenegraph_y = scenegraph_y or 0
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 455-488, warpins: 2 ---
		scenegraph_y = scenegraph_y + 100

		self:_set_scenegraph_position(grid_start_name .. "area", scenegraph_x, scenegraph_y)
		self:_set_scenegraph_size(grid_scenegraph, scenegraph_width, scenegraph_height)
		self:_set_scenegraph_size(grid_start_name .. "scrollbar", nil, scenegraph_height)
		self:_set_scenegraph_size(grid_start_name .. "mask", scenegraph_width + mask_margin[1], scenegraph_height + mask_margin[2])
		--- END OF BLOCK #1 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 489-510, warpins: 1 ---
		self:_set_scenegraph_position(grid_start_name .. "area", scenegraph_x - 35, scenegraph_y)

		local height = math.min(CharacterAppearanceViewSettings.area_grid_size[2], description_text_size + scenegraph_height + 20)

		self:_set_scenegraph_size("list_background", scenegraph_width, height)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #10 ---

	FLOW; TARGET BLOCK #11



	-- Decompilation error in this vicinity:
	--- BLOCK #11 511-515, warpins: 2 ---
	local visible_index = 0

	--- END OF BLOCK #11 ---

	FLOW; TARGET BLOCK #12



	-- Decompilation error in this vicinity:
	--- BLOCK #12 516-675, warpins: 0 ---
	for i = 1, #options, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 516-519, warpins: 2 ---
		local option = options[i]

		if (option.visibility_function and option.visibility_function() == true) or not option.visibility_function then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 527-534, warpins: 2 ---
			visible_index = visible_index + 1
			local option_pass_template = pass_template
			local option_size = size
			local option_init = init
			local option_template_type = template_type

			if entry.no_option and i == 1 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 537-543, warpins: 1 ---
				option_template_type = "icon"
				local template = ContentBlueprints.blueprints[option_template_type]
				option_pass_template = template.pass_template
				option_size = template.size
				option_init = template.init
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 544-569, warpins: 3 ---
			local widget_definition = UIWidget.create_definition(option_pass_template, grid_start_name .. "content_pivot", nil, option_size)
			local name = grid_start_name .. "option_" .. i
			local widget = self:_create_widget(name, widget_definition)
			widget.content.slot_name = entry.slot_name
			widget.content.entry = option
			widget.index = visible_index
			local element_selected = focused_value and focused_value == option.value
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 576-584, warpins: 3 ---
			widget.content.element_selected = element_selected
			widget.content.visible = false
			local icon_texture = option.icon_texture

			if entry.no_option and i == 1 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 587-590, warpins: 1 ---
				local icon_texture = "content/ui/textures/icons/appearances/no_option"
				widget.content.icon_texture = icon_texture
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 591-592, warpins: 2 ---
				if option_template_type == "icon" and not icon_texture then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 595-597, warpins: 1 ---
					local count = (entry.no_option and i - 1) or i
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 602-609, warpins: 2 ---
					local icon_texture = string.format("content/ui/textures/icons/appearances/roman_numerals/%d", count)
					widget.content.icon_texture = icon_texture
					--- END OF BLOCK #1 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 610-612, warpins: 2 ---
					if entry.template == "icon" then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 613-614, warpins: 1 ---
						widget.content.icon_texture = icon_texture
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #2 ---

			FLOW; TARGET BLOCK #3



			-- Decompilation error in this vicinity:
			--- BLOCK #3 615-619, warpins: 4 ---
			widget.content.icon_background = entry.icon_background

			if option_init then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 620-627, warpins: 1 ---
				option_init(self, widget, entry, option, index, "_on_entry_pressed")
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #3 ---

			FLOW; TARGET BLOCK #4



			-- Decompilation error in this vicinity:
			--- BLOCK #4 628-630, warpins: 2 ---
			if option.should_present_option and option.should_present_option.reason then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 635-642, warpins: 1 ---
				local reason = option.should_present_option.reason
				local choice_info = choices_presentation[reason]
				widget.alpha_multiplier = (option.should_present_option.should_present_option == false and 0.5) or 1
				widget.content.use_choice_icon = true
				widget.style.choice_icon.material_values = {
					texture_map = choice_info.icon_texture
				}

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 646-658, warpins: 2 ---
				if focused_value == option.value then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 659-662, warpins: 1 ---
					self:_check_widget_choice_detail_visibility(widget)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #1 ---



			end

			--- END OF BLOCK #4 ---

			FLOW; TARGET BLOCK #5



			-- Decompilation error in this vicinity:
			--- BLOCK #5 663-664, warpins: 4 ---
			widget.loads_icon = option_template_type == "slot_icon"
			widgets[#widgets + 1] = widget
			alignment_list[#alignment_list + 1] = widget
			--- END OF BLOCK #5 ---

			FLOW; TARGET BLOCK #6



			-- Decompilation error in this vicinity:
			--- BLOCK #6 668-674, warpins: 2 ---
			--- END OF BLOCK #6 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 675-675, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #12 ---

	FLOW; TARGET BLOCK #13



	-- Decompilation error in this vicinity:
	--- BLOCK #13 676-717, warpins: 1 ---
	local grid = UIWidgetGrid:new(widgets, alignment_list, ui_scenegraph, grid_scenegraph, direction, spacing)
	local scrollbar_widget = self._widgets_by_name[grid_start_name .. "scrollbar"]

	grid:assign_scrollbar(scrollbar_widget, grid_content_scenegraph, grid_scenegraph)
	grid:set_scrollbar_progress(0)
	grid:set_scroll_step_length(size[2])

	self._page_grids[index] = {
		can_navigate = true,
		offset = true,
		widgets = widgets,
		grid = grid,
		support_widgets = support_widgets,
		max_widgets_per_column = max_widgets_per_column,
		num_columns = total_columns,
		using_scrollbar = using_scrollbar,
		entry = entry
	}
	self._updated_scenegraph = true

	return
	--- END OF BLOCK #13 ---



end

CharacterAppearanceView._should_present_option = function (self, option)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	if type(option.value) ~= "table" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-7, warpins: 1 ---
		return {
			should_present_option = true
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-40, warpins: 2 ---
	local should_present_option = true
	local profile = self._character_create:profile()
	local reason, display_name = nil
	local options_to_validate = {}
	options_to_validate[1] = {
		value_table = option.value.breeds,
		profile_choice = profile.breed
	}
	options_to_validate[2] = {
		value_table = option.value.genders,
		profile_choice = profile.gender
	}
	options_to_validate[3] = {
		value_table = option.value.archetypes,
		profile_choice = profile.archetype.name
	}

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 41-53, warpins: 0 ---
	for i = 1, #options_to_validate, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 41-50, warpins: 2 ---
		local option_to_validation = options_to_validate[i]
		local value_table = option_to_validation.value_table
		local profile_choice = option_to_validation.profile_choice
		local result = self:_is_option_valid(value_table, profile_choice)

		if result == false then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-52, warpins: 1 ---
			should_present_option = result

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 53-53, warpins: 1 ---
			break
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 53-53, warpins: 1 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 54-55, warpins: 2 ---
	if should_present_option == true then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 56-105, warpins: 1 ---
		local backstory_options_to_validate = {}
		backstory_options_to_validate[1] = {
			choice_name = "home_planet",
			value_table = option.value.home_planets,
			profile_choice = profile.lore.backstory.planet,
			reference = HomePlanets
		}
		backstory_options_to_validate[2] = {
			choice_name = "childhood",
			value_table = option.value.childhoods,
			profile_choice = profile.lore.backstory.childhood,
			reference = Childhood
		}
		backstory_options_to_validate[3] = {
			choice_name = "growing_up",
			value_table = option.value.upbringings,
			profile_choice = profile.lore.backstory.growing_up,
			reference = GrowingUp
		}
		backstory_options_to_validate[4] = {
			choice_name = "formative_event",
			value_table = option.value.formative_events,
			profile_choice = profile.lore.backstory.formative_event,
			reference = FormativeEvent
		}
		should_present_option = nil

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 106-116, warpins: 0 ---
		for i = 1, #backstory_options_to_validate, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 106-112, warpins: 2 ---
			local option_to_validation = backstory_options_to_validate[i]
			local result = self:_is_backstory_option_valid(option_to_validation)

			if result then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 113-115, warpins: 1 ---
				should_present_option = result.is_option_valid
				reason = result.reason
				display_name = result.display_name
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 116-116, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 117-118, warpins: 2 ---
	if should_present_option == nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 119-119, warpins: 1 ---
		should_present_option = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 120-124, warpins: 2 ---
	return {
		should_present_option = should_present_option,
		reason = reason,
		display_name = display_name
	}
	--- END OF BLOCK #5 ---



end

CharacterAppearanceView._is_option_valid = function (self, value_table, profile_choice)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not value_table then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-4, warpins: 1 ---
		return true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-7, warpins: 2 ---
	if #value_table == 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-9, warpins: 1 ---
		return true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 10-14, warpins: 2 ---
	local is_option_valid = false

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 15-20, warpins: 0 ---
	for i = 1, #value_table, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-17, warpins: 2 ---
		local value = value_table[i]

		if profile_choice == value then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-19, warpins: 1 ---
			is_option_valid = true

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 20-20, warpins: 1 ---
			break
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 20-20, warpins: 1 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 21-21, warpins: 2 ---
	return is_option_valid
	--- END OF BLOCK #4 ---



end

CharacterAppearanceView._is_backstory_option_valid = function (self, values)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not values.value_table then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-5, warpins: 1 ---
		return nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-9, warpins: 2 ---
	if #values.value_table == 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-11, warpins: 1 ---
		return nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 12-19, warpins: 2 ---
	local is_option_valid = false
	local reason = values.choice_name
	local display_name = ""

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 20-34, warpins: 0 ---
	for i = 1, #values.value_table, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-23, warpins: 2 ---
		local value = values.value_table[i]

		if value then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-26, warpins: 1 ---
			is_option_valid = values.profile_choice == value
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 30-33, warpins: 2 ---
			display_name = values.reference[value].display_name

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 34-34, warpins: 2 ---
			break
			--- END OF BLOCK #2 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 34-34, warpins: 1 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 35-39, warpins: 2 ---
	return {
		is_option_valid = is_option_valid,
		reason = reason,
		display_name = display_name
	}
	--- END OF BLOCK #4 ---



end

CharacterAppearanceView._zoom_camera = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	local slot_name = nil

	if self._camera_zoomed then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-6, warpins: 1 ---
		slot_name = nil
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-7, warpins: 1 ---
		slot_name = "slot_body_face"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-13, warpins: 2 ---
	self:_set_camera(slot_name, self._gear_visible)

	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._is_camera_zoomed = function (self, camera_focus)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return camera_focus == "slot_body_face"
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-6, warpins: 2 ---
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._set_camera_height_option = function (self, camera_focus, gear_visible)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-27, warpins: 1 ---
	self:_set_camera(camera_focus, gear_visible, true)

	self._disable_zoom = true
	local world_spawner = self._world_spawner
	local time = 1
	local func_ptr = math.easeOutCubic
	local boxed_camera_start_position = world_spawner:boxed_camera_start_position()
	local default_camera_world_position = Vector3.from_array(boxed_camera_start_position)
	local profile = self._character_create:profile()
	local selected_archetype = profile.archetype.name

	if selected_archetype == "ogryn" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 28-44, warpins: 1 ---
		world_spawner:set_camera_position_axis_offset("y", default_camera_world_position.y + 2.8, time, func_ptr)
		world_spawner:set_camera_position_axis_offset("x", default_camera_world_position.x + 2.6, time, func_ptr)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 45-52, warpins: 1 ---
		world_spawner:set_camera_position_axis_offset("y", default_camera_world_position.y - 0.5, time, func_ptr)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 53-53, warpins: 2 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._set_camera = function (self, camera_focus, gear_visible, no_height_compensation, time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-14, warpins: 1 ---
	self._disable_zoom = false
	self._gear_visible = gear_visible

	self._character_create:set_gear_visible(gear_visible)

	local slot_camera_unit = self._camera_by_slot_id[camera_focus]
	self._focus_camera_unit = slot_camera_unit
	local world_spawner = self._world_spawner
	local time = time or 1
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-24, warpins: 2 ---
	local func_ptr = math.easeOutCubic
	local is_camera_zoomed = self:_is_camera_zoomed(camera_focus)
	local camera_zoom_changed = self._camera_zoomed ~= is_camera_zoomed
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 28-35, warpins: 2 ---
	local profile = self._character_create:profile()
	local archetype_settings = profile.archetype
	local archetype_name = archetype_settings.name

	if camera_zoom_changed then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 36-41, warpins: 1 ---
		local animations_per_archetype = CharacterAppearanceViewSettings.animations_per_archetype
		local animations_settings = animations_per_archetype[archetype_name]
		local animation_event = nil

		if is_camera_zoomed then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-44, warpins: 1 ---
			animation_event = animations_settings.events.head
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 45-46, warpins: 1 ---
			animation_event = animations_settings.events.body
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 47-52, warpins: 2 ---
		self._profile_spawner:assign_animation_event(animation_event)

		self._camera_zoomed = is_camera_zoomed
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 53-67, warpins: 2 ---
	local boxed_camera_start_position = world_spawner:boxed_camera_start_position()
	local default_camera_world_position = Vector3.from_array(boxed_camera_start_position)
	local boxed_camera_start_rotation = world_spawner:boxed_camera_start_rotation()
	local default_camera_world_rotation = boxed_camera_start_rotation:unbox()
	local target_world_position = (slot_camera_unit and Unit.world_position(slot_camera_unit, 1)) or default_camera_world_position
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 76-77, warpins: 2 ---
	local target_world_rotation = (slot_camera_unit and Unit.world_rotation(slot_camera_unit, 1)) or default_camera_world_rotation
	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 86-107, warpins: 2 ---
	local camera_world_position = default_camera_world_position
	local camera_world_rotation = default_camera_world_rotation

	world_spawner:set_camera_position_axis_offset("x", target_world_position.x - camera_world_position.x, time, func_ptr)
	world_spawner:set_camera_position_axis_offset("y", target_world_position.y - camera_world_position.y, time, func_ptr)

	if no_height_compensation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 108-117, warpins: 1 ---
		world_spawner:set_camera_position_axis_offset("z", target_world_position.z - camera_world_position.z, time, func_ptr)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 118-124, warpins: 1 ---
		local head_position = self._profile_spawner:node_world_position("j_head")
		local model_height_difference = (archetype_name == "ogryn" and -0.2) or 0

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 128-129, warpins: 2 ---
		if head_position then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 130-131, warpins: 1 ---
			local head_world_position = (head_position and Vector3.to_array(head_position)) or target_world_position
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 139-144, warpins: 2 ---
			local spawn_position = self._spawn_point_position
			local head_z_position = head_world_position[3] - spawn_position[3]
			model_height_difference = head_z_position - self._default_head_z_position
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 145-154, warpins: 2 ---
		world_spawner:set_camera_position_axis_offset("z", (target_world_position.z + model_height_difference) - camera_world_position.z, time, func_ptr)
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 155-184, warpins: 2 ---
	local camera_world_rotation_x, camera_world_rotation_y, camera_world_rotation_z = Quaternion.to_euler_angles_xyz(camera_world_rotation)
	local target_world_rotation_x, target_world_rotation_y, target_world_rotation_z = Quaternion.to_euler_angles_xyz(target_world_rotation)

	world_spawner:set_camera_rotation_axis_offset("x", target_world_rotation_x - camera_world_rotation_x, time, func_ptr)
	world_spawner:set_camera_rotation_axis_offset("y", target_world_rotation_y - camera_world_rotation_y, time, func_ptr)
	world_spawner:set_camera_rotation_axis_offset("z", target_world_rotation_z - camera_world_rotation_z, time, func_ptr)

	return
	--- END OF BLOCK #6 ---



end

CharacterAppearanceView.draw = function (self, dt, t, input_service, layer)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	self:_draw_grid(dt, t, input_service)
	CharacterAppearanceView.super.draw(self, dt, t, input_service, layer)

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._draw_widgets = function (self, dt, t, input_service, ui_renderer)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-14, warpins: 1 ---
	CharacterAppearanceView.super._draw_widgets(self, dt, t, input_service, ui_renderer)

	local page_indicator_widgets = self._page_indicator_widgets

	if #page_indicator_widgets > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-18, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 19-25, warpins: 0 ---
		for i = 1, #page_indicator_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 19-25, warpins: 2 ---
			local widget = page_indicator_widgets[i]

			UIWidget.draw(widget, ui_renderer)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 26-28, warpins: 2 ---
	local errors_widgets = self._name_input_errors_widgets

	if errors_widgets and #errors_widgets > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 33-36, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 37-43, warpins: 0 ---
		for i = 1, #errors_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 37-43, warpins: 2 ---
			local widget = errors_widgets[i]

			UIWidget.draw(widget, ui_renderer)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 44-46, warpins: 3 ---
	local reward_widgets = self._reward_widgets

	if reward_widgets and #reward_widgets > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 51-54, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 55-61, warpins: 0 ---
		for i = 1, #reward_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 55-61, warpins: 2 ---
			local widget = reward_widgets[i]

			UIWidget.draw(widget, ui_renderer)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 62-64, warpins: 3 ---
	local planet_widgets = self._planet_widgets

	if planet_widgets and #planet_widgets > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 69-72, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 73-79, warpins: 0 ---
		for i = 1, #planet_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 73-79, warpins: 2 ---
			local widget = planet_widgets[i]

			UIWidget.draw(widget, ui_renderer)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 80-82, warpins: 3 ---
	local page_widgets = self._page_widgets

	if page_widgets and #page_widgets > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 87-90, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 91-115, warpins: 0 ---
		for i = 1, #page_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 91-100, warpins: 2 ---
			local widget = page_widgets[i]

			UIWidget.draw(widget, ui_renderer)

			if widget.content.template_type then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 101-107, warpins: 1 ---
				local template = ContentBlueprints.blueprints[widget.content.template_type]

				if template and template.update then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 111-114, warpins: 1 ---
					template.update(self, widget)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 115-115, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 116-116, warpins: 3 ---
	return
	--- END OF BLOCK #5 ---



end

CharacterAppearanceView._draw_grid = function (self, dt, t, input_service)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local render_settings = self._render_settings
	local ui_scenegraph = self._ui_scenegraph

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-113, warpins: 0 ---
	for i = 1, #self._page_grids, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-23, warpins: 2 ---
		local page_grid = self._page_grids[i]
		local grid = page_grid.grid
		local widgets = page_grid.widgets
		local support_widgets = page_grid.support_widgets
		local offset = page_grid.offset

		UIRenderer.begin_pass(self._ui_renderer, ui_scenegraph, input_service, dt, render_settings)

		if support_widgets then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-27, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 28-34, warpins: 0 ---
			for i = 1, #support_widgets, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 28-34, warpins: 2 ---
				local widget = support_widgets[i]

				UIWidget.draw(widget, self._ui_renderer)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 35-36, warpins: 2 ---
		if widgets and not offset then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 39-42, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 43-65, warpins: 0 ---
			for i = 1, #widgets, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-45, warpins: 2 ---
				local widget = widgets[i]

				if grid and grid:is_widget_visible(widget) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 52-57, warpins: 1 ---
					UIWidget.draw(widget, self._ui_renderer)
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 58-59, warpins: 2 ---
					if not grid then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 60-64, warpins: 1 ---
						UIWidget.draw(widget, self._ui_renderer)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 65-65, warpins: 3 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 66-79, warpins: 3 ---
		UIRenderer.end_pass(self._ui_renderer)
		UIRenderer.begin_pass(self._offscreen_renderer, ui_scenegraph, input_service, dt, render_settings)

		if widgets and offset then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 82-85, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 86-108, warpins: 0 ---
			for i = 1, #widgets, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 86-88, warpins: 2 ---
				local widget = widgets[i]

				if grid and grid:is_widget_visible(widget) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 95-100, warpins: 1 ---
					UIWidget.draw(widget, self._offscreen_renderer)
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 101-102, warpins: 2 ---
					if not grid then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 103-107, warpins: 1 ---
						UIWidget.draw(widget, self._offscreen_renderer)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 108-108, warpins: 3 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 109-113, warpins: 3 ---
		UIRenderer.end_pass(self._offscreen_renderer)
		--- END OF BLOCK #3 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 114-114, warpins: 1 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._event_profile_sync_changed = function (self, is_active)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	self:_show_loading_character(is_active)

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._show_loading_character = function (self, is_active)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._loading_overlay_visible = is_active

	if is_active then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		self._widgets_by_name.loading_overlay.content.text = ""
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-13, warpins: 2 ---
	self._widgets_by_name.loading_overlay.content.visible = is_active

	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._show_loading_awaiting_validation = function (self, is_active)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._loading_overlay_visible = is_active

	if is_active then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-10, warpins: 1 ---
		self._widgets_by_name.loading_overlay.content.text = Localize("loc_character_create_await_validation")
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-15, warpins: 2 ---
	self._widgets_by_name.loading_overlay.content.visible = is_active

	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView.update = function (self, dt, t, input_service)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self.closing_view then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-7, warpins: 2 ---
	if self._loading_overlay_visible == true then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-11, warpins: 1 ---
		input_service = input_service:null_service()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 12-20, warpins: 2 ---
	local page = self._pages[self._active_page_number]

	self:_sync_profile_changes()

	if self._profile_spawner then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-33, warpins: 1 ---
		self._profile_spawner:update(dt, t, input_service)

		local is_spawned = self._profile_spawner:spawned()

		if is_spawned and self._character_spawned_next_frame then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 37-43, warpins: 1 ---
			self._character_spawned_next_frame = false

			self:_show_loading_character(false)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 44-46, warpins: 2 ---
			if page.show_character and not is_spawned and not self._character_spawned_next_frame and not self._loading_overlay_visible then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 55-58, warpins: 1 ---
				self:_show_loading_character(true)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 59-61, warpins: 6 ---
		if page.show_character and not self._is_character_showing and is_spawned then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 67-101, warpins: 1 ---
			local original_scale = self._profile_spawner:character_scale()
			local profile_height = self._character_create:height()
			local head_world_position = Vector3.to_array(self._profile_spawner:node_world_position("j_head"))
			local spawn_position = self._spawn_point_position
			local default_head_z_position = head_world_position[3] - spawn_position[3]
			local starting_scale_diff = 1 + 1 - original_scale[3]
			self._default_head_z_position = default_head_z_position * starting_scale_diff

			self:_set_character_height(profile_height)

			self._is_character_showing = true
			self._character_spawned_next_frame = true
			self._height_changed = true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 102-104, warpins: 5 ---
	if not page.show_character and self._is_character_showing then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 108-109, warpins: 1 ---
		self._is_character_showing = false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 110-112, warpins: 3 ---
	if self._updated_scenegraph then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 113-115, warpins: 1 ---
		self._updated_scenegraph = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 116-120, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 121-175, warpins: 0 ---
		for i = 1, #self._page_grids, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 121-125, warpins: 2 ---
			local grid = self._page_grids[i].grid

			if grid then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 126-137, warpins: 1 ---
				grid:update(dt, t)

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 138-174, warpins: 0 ---
				for j = 1, #self._page_grids[i].widgets, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 138-150, warpins: 2 ---
					local widget = self._page_grids[i].widgets[j]
					local content = widget.content
					content.visible = true
					local visible = grid:is_widget_visible(widget)

					if not visible and widget.loads_icon and content.icon_load_id then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 157-161, warpins: 1 ---
						self:_unload_appearance_icon(widget)
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 162-163, warpins: 3 ---
						if visible and widget.loads_icon and not content.icon_load_id then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 170-173, warpins: 1 ---
							self:_load_appearance_icon(widget)
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 174-174, warpins: 5 ---
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 175-175, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 176-178, warpins: 2 ---
	local world_spawner = self._world_spawner

	if world_spawner then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 179-183, warpins: 1 ---
		world_spawner:update(dt, t)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 184-187, warpins: 2 ---
	if GameParameters.testify then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 188-193, warpins: 1 ---
		Testify:poll_requests_through_handler(CharacterAppearanceViewTestify, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 194-197, warpins: 2 ---
	local continue_disabled = false

	if self._block_continue then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 198-201, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 202-240, warpins: 0 ---
		for page_index, entries in pairs(self._block_continue) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 202-204, warpins: 1 ---
			if page_index == self._active_page_number then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 205-208, warpins: 1 ---
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 209-237, warpins: 0 ---
				for i = 1, #entries, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 209-212, warpins: 2 ---
					local entry = entries[i]

					if self._active_page_number == 5 and self._page_grids[1] and self._page_grids[1].widgets and self._page_grids[1].widgets[i] then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 228-233, warpins: 1 ---
						self._page_grids[1].widgets[i].content.show_warning = entry
						--- END OF BLOCK #0 ---



					end

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 234-235, warpins: 5 ---
					if entry == true then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 236-236, warpins: 1 ---
						continue_disabled = true
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 237-237, warpins: 2 ---
					--- END OF BLOCK #2 ---



				end

				--- END OF BLOCK #1 ---

				FLOW; TARGET BLOCK #2



				-- Decompilation error in this vicinity:
				--- BLOCK #2 238-238, warpins: 1 ---
				--- END OF BLOCK #2 ---

				FLOW; TARGET BLOCK #3



				-- Decompilation error in this vicinity:
				--- BLOCK #3 239-239, warpins: 1 ---
				break
				--- END OF BLOCK #3 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 239-240, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 241-259, warpins: 3 ---
	self._widgets_by_name.continue_button.content.hotspot.disabled = continue_disabled
	local world = Managers.ui:world()
	local wwise_world = Managers.world:wwise_world(world)

	if self._current_sound_id and WwiseWorld.is_playing(wwise_world, self._current_sound_id) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 267-275, warpins: 1 ---
		self._current_progress = ContentBlueprints.pulse_animations.update(dt, self._current_progress, self._current_sound_widget)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 276-278, warpins: 2 ---
		if self._current_sound_id and not WwiseWorld.is_playing(wwise_world, self._current_sound_id) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 286-295, warpins: 1 ---
			self._current_sound_id = nil
			self._current_progress = 0
			self._current_sound_widget.content.audio_playing = false
			self._current_sound_widget = nil
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 296-298, warpins: 4 ---
	if self._set_camera_next_frame then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 299-306, warpins: 1 ---
		local selected_index = nil

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 307-317, warpins: 0 ---
		for i = 1, #self._page_grids[1].widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 307-314, warpins: 2 ---
			local widget = self._page_grids[1].widgets[i]

			if widget.content.element_selected then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 315-316, warpins: 1 ---
				selected_index = i

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 317-317, warpins: 1 ---
				break
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 317-317, warpins: 1 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 318-323, warpins: 2 ---
		local camera_focus, gear_visible = nil
		local page = self._pages[self._active_page_number]

		if selected_index then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 324-332, warpins: 1 ---
			camera_focus = page.content.options[selected_index].camera_focus
			gear_visible = page.content.options[selected_index].gear_visible
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 333-334, warpins: 1 ---
			camera_focus = page.camera_focus
			gear_visible = page.gear_visible
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 335-343, warpins: 2 ---
		self:_set_camera(camera_focus, gear_visible, nil, 0)

		self._set_camera_next_frame = nil
		--- END OF BLOCK #3 ---



	end

	--- END OF BLOCK #9 ---

	FLOW; TARGET BLOCK #10



	-- Decompilation error in this vicinity:
	--- BLOCK #10 344-346, warpins: 2 ---
	if self._height_changed then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 347-350, warpins: 1 ---
		self._height_changed = false
		self._set_camera_next_frame = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #10 ---

	FLOW; TARGET BLOCK #11



	-- Decompilation error in this vicinity:
	--- BLOCK #11 351-358, warpins: 2 ---
	return CharacterAppearanceView.super.update(self, dt, t, input_service)
	--- END OF BLOCK #11 ---



end

CharacterAppearanceView._on_entry_pressed = function (self, current_widget, option, grid_index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._current_sound_id then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-19, warpins: 1 ---
		local world = Managers.ui:world()
		local wwise_world = Managers.world:wwise_world(world)

		WwiseWorld.stop_event(wwise_world, self._current_sound_id)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 20-31, warpins: 2 ---
	self:_play_sound(UISoundEvents.character_appearence_option_pressed)

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 32-44, warpins: 0 ---
	for i = 1, #self._page_grids[grid_index].widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 32-39, warpins: 2 ---
		local widget = self._page_grids[grid_index].widgets[i]
		widget.content.element_selected = current_widget.index == i
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 43-44, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 45-47, warpins: 1 ---
	if self._using_cursor_navigation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 48-52, warpins: 1 ---
		self:_update_current_navigation_position(grid_index, current_widget.index)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 53-59, warpins: 2 ---
	self:_check_widget_choice_detail_visibility(current_widget)

	local on_pressed_function = option.on_pressed_function

	if on_pressed_function then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 60-62, warpins: 1 ---
		on_pressed_function(current_widget)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 63-63, warpins: 2 ---
	return
	--- END OF BLOCK #5 ---



end

CharacterAppearanceView._check_widget_choice_detail_visibility = function (self, widget)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if widget and widget.content.entry.should_present_option and widget.content.entry.should_present_option.should_present_option == true and widget.content.entry.should_present_option.reason then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-69, warpins: 1 ---
		local reason = widget.content.entry.should_present_option.reason
		local choice_info = choices_presentation[reason]
		self._widgets_by_name.choice_detail.content.visible = true
		self._widgets_by_name.choice_detail.content.use_choice_icon = true
		self._widgets_by_name.choice_detail.style.choice_icon.material_values = {
			texture_map = choice_info.icon_texture
		}
		self._widgets_by_name.choice_detail.content.text = Localize("loc_character_create_choice_reason", true, {
			description = Localize(choice_info.description),
			choice = Localize(widget.content.entry.should_present_option.display_name)
		})
		self._widgets_by_name.choice_detail.content.available = true
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 70-71, warpins: 4 ---
		if widget and widget.content.entry.should_present_option and widget.content.entry.should_present_option.should_present_option == false and widget.content.entry.should_present_option.reason then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 89-138, warpins: 1 ---
			local reason = widget.content.entry.should_present_option.reason
			local choice_info = choices_presentation[reason]
			self._widgets_by_name.choice_detail.content.visible = true
			self._widgets_by_name.choice_detail.content.use_choice_icon = true
			self._widgets_by_name.choice_detail.style.choice_icon.material_values = {
				texture_map = choice_info.icon_texture
			}
			self._widgets_by_name.choice_detail.content.text = Localize("loc_character_create_choice_reason", true, {
				description = Localize(choice_info.description),
				choice = Localize(widget.content.entry.should_present_option.display_name)
			})
			self._widgets_by_name.choice_detail.content.available = false
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 139-144, warpins: 4 ---
			if self._widgets_by_name.choice_detail.content.visible == true then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 145-149, warpins: 1 ---
				self._widgets_by_name.choice_detail.content.visible = false
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 150-150, warpins: 4 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._on_navigation_input_changed = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	CharacterAppearanceView.super._on_navigation_input_changed(self)
	self:_handle_continue_button_text()

	if self._page_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-16, warpins: 1 ---
		local randomize_button_widget = self:_create_randomize_button()
		self._page_widgets[2] = randomize_button_widget
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-24, warpins: 2 ---
	local current_grid_index = self._navigation.grid
	local current_widget_index = self._navigation.index
	local current_widget = self._page_grids[current_grid_index] and self._page_grids[current_grid_index].widgets and self._page_grids[current_grid_index].widgets[current_widget_index]
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 34-35, warpins: 3 ---
	local current_widget_hotspot = current_widget and current_widget.content.hotspot

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 38-39, warpins: 2 ---
	if current_widget_hotspot and self._using_cursor_navigation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 43-45, warpins: 1 ---
		current_widget_hotspot.is_focused = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 46-47, warpins: 2 ---
		if current_widget_hotspot and not self._using_cursor_navigation then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-52, warpins: 1 ---
			current_widget_hotspot.is_focused = true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 53-53, warpins: 4 ---
	return
	--- END OF BLOCK #4 ---



end

CharacterAppearanceView._update_current_navigation_position = function (self, grid_index, widget_index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local current_grid_index = self._navigation.grid
	local current_widget_index = self._navigation.index
	local current_widget = self._page_grids[current_grid_index] and self._page_grids[current_grid_index].widgets and self._page_grids[current_grid_index].widgets[current_widget_index]
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-21, warpins: 3 ---
	local new_widget = self._page_grids[grid_index] and self._page_grids[grid_index].widgets and self._page_grids[grid_index].widgets[widget_index]

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 31-33, warpins: 3 ---
	if not self._using_cursor_navigation and new_widget then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 36-52, warpins: 1 ---
		local grid = self._page_grids[grid_index].grid
		local widget_height = new_widget.content.size[2]
		local total_widgets = #self._page_grids[grid_index].widgets
		local is_visible = grid:is_widget_visible(new_widget, -widget_height)

		if not is_visible then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 53-69, warpins: 1 ---
			local current_scrollbar_progress = grid:scrollbar_progress()
			local spacing = grid:get_spacing()
			local scroll_height = grid:scroll_length()
			local area_height = grid:area_length()
			local num_columns = self._page_grids[grid_index].num_columns
			local inverse = current_widget_index and widget_index < current_widget_index
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 75-78, warpins: 3 ---
			local new_row = nil
			new_row = (widget_index % num_columns == 0 and inverse and math.floor(widget_index / num_columns) - 1) or (not inverse and total_widgets < widget_index + num_columns and math.ceil(widget_index / num_columns) + 1) or (inverse and math.floor(widget_index / num_columns)) or math.ceil(widget_index / num_columns)
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 111-114, warpins: 4 ---
			local top_position = scroll_height * current_scrollbar_progress
			local bottom_position = top_position + area_height
			local visible_height = (inverse and top_position) or bottom_position
			--- END OF BLOCK #2 ---

			FLOW; TARGET BLOCK #3



			-- Decompilation error in this vicinity:
			--- BLOCK #3 118-131, warpins: 2 ---
			local widget_height_position = new_row * widget_height + spacing[2] * new_row
			local progress = widget_height_position - visible_height
			local scrollbar_progress = current_scrollbar_progress + progress / scroll_height

			grid:focus_grid_index(widget_index, scrollbar_progress, true)
			--- END OF BLOCK #3 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 132-135, warpins: 1 ---
			grid:focus_grid_index(widget_index)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 136-137, warpins: 4 ---
	if current_grid_index ~= grid_index then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 138-139, warpins: 1 ---
		if current_widget and current_widget.content.hotspot then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 144-147, warpins: 1 ---
			current_widget.content.hotspot.is_focused = false
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 148-151, warpins: 3 ---
		if self._page_grids[current_grid_index] and self._page_grids[current_grid_index].entry and self._page_grids[current_grid_index].entry.leave then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 163-170, warpins: 1 ---
			local page = self._page_grids[current_grid_index]

			self._page_grids[current_grid_index].entry.leave(page)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 171-174, warpins: 4 ---
		if self._page_grids[grid_index] and self._page_grids[grid_index].entry and self._page_grids[grid_index].entry.enter then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 186-193, warpins: 1 ---
			local page = self._page_grids[grid_index]

			self._page_grids[grid_index].entry.enter(page)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 194-198, warpins: 5 ---
	self._navigation = {
		index = widget_index,
		grid = grid_index
	}

	return
	--- END OF BLOCK #4 ---



end

CharacterAppearanceView._load_appearance_icon = function (self, widget)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-34, warpins: 1 ---
	local profile = table.clone_instance(self._character_create:profile())

	self._character_create.set_item_per_slot_preview(self._character_create, widget.content.slot_name, widget.content.entry.value, profile)

	local cb = callback(self, "_set_player_icon", widget)
	profile.character_id = widget.index
	local icon_load_id = Managers.ui:load_appearance_portrait(profile, cb)
	widget.content.icon_load_id = icon_load_id

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._update_appearance_icon = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-45, warpins: 0 ---
	for i = 1, #self._page_grids, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-12, warpins: 2 ---
		local grid = self._page_grids[i]

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-44, warpins: 0 ---
		for j = 1, #grid.widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-18, warpins: 2 ---
			local widget = grid.widgets[j]

			if widget.content.icon_load_id then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 19-43, warpins: 1 ---
				local profile = table.clone_instance(self._character_create:profile())

				self._character_create.set_item_per_slot_preview(self._character_create, widget.content.slot_name, widget.content.entry.value, profile)

				profile.character_id = j

				Managers.event:trigger("event_player_appearance_updated", profile)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 44-44, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 45-45, warpins: 1 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 46-46, warpins: 1 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._unload_appearance_icon = function (self, widget)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	Managers.ui:unload_appearance_portrait(widget.content.icon_load_id)

	widget.content.icon_load_id = nil
	local material_values = widget.style.texture.material_values
	material_values.use_placeholder_texture = 1

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._unload_all_appearance_icons = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-24, warpins: 0 ---
	for i = 1, #self._page_grids, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-12, warpins: 2 ---
		local grid = self._page_grids[i]

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-23, warpins: 0 ---
		for j = 1, #grid.widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-18, warpins: 2 ---
			local widget = grid.widgets[j]

			if widget.content.icon_load_id then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 19-22, warpins: 1 ---
				self:_unload_appearance_icon(widget)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 23-23, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 24-24, warpins: 1 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 25-25, warpins: 1 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._set_player_icon = function (self, widget, grid_index, rows, columns)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local material_values = widget.style.texture.material_values
	material_values.use_placeholder_texture = 0
	material_values.rows = rows
	material_values.columns = columns
	material_values.grid_index = grid_index - 1

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._create_page_indicators = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-12, warpins: 0 ---
	for i = 1, #self._page_indicator_widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-12, warpins: 2 ---
		local widget = self._page_indicator_widgets[i]

		self:_unregister_widget_name(widget.name)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 13-24, warpins: 1 ---
	local num_pages = #self._pages
	local page_indicator_widgets = {}
	local width = 15
	local spacing = 10
	local total_width = 0
	local definitions = self._definitions
	local page_indicator_definition = definitions.page_indicator_widget

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 25-40, warpins: 0 ---
	for i = 1, num_pages, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 25-40, warpins: 2 ---
		local name = "page_indicator_" .. i
		local widget = self:_create_widget(name, page_indicator_definition)
		widget.offset[1] = width * (i - 1) + spacing * i
		page_indicator_widgets[i] = widget
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 41-43, warpins: 1 ---
	if num_pages > 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 44-55, warpins: 1 ---
		total_width = page_indicator_widgets[num_pages].offset[1] + width + spacing

		self:_set_scenegraph_size("page_indicator", total_width, nil)

		self._page_indicator_widgets = page_indicator_widgets
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 56-56, warpins: 2 ---
	return
	--- END OF BLOCK #5 ---



end

CharacterAppearanceView._on_close_pressed = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	self:_play_sound(UISoundEvents.character_create_step_back_in_order)

	if self._backstory_selection_page then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-17, warpins: 1 ---
		self._backstory_selection_page.leave(true)
		self:_open_page(self._active_page_number)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-20, warpins: 1 ---
		if self._using_cursor_navigation == false and self._navigation.grid > 1 and self._active_page_number == 5 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-35, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 36-50, warpins: 0 ---
			for i = 1, #self._page_grids[1].widgets, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 36-43, warpins: 2 ---
				local widget = self._page_grids[1].widgets[i]

				if widget.content.element_selected == true then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 44-49, warpins: 1 ---
					self:_update_current_navigation_position(1, i)

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 50-50, warpins: 1 ---
					break
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 50-50, warpins: 1 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 51-51, warpins: 1 ---
			--- END OF BLOCK #2 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 52-55, warpins: 3 ---
			if self._active_page_number > 1 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 56-62, warpins: 1 ---
				local previous_index = self._active_page_number - 1

				self:_open_page(previous_index)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 63-68, warpins: 1 ---
				Managers.event:trigger("event_create_new_character_back")
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 69-69, warpins: 5 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._destroy_renderer = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._offscreen_renderer then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-5, warpins: 1 ---
		self._offscreen_renderer = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-8, warpins: 2 ---
	local world_data = self._offscreen_world

	if world_data then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-26, warpins: 1 ---
		Managers.ui:destroy_renderer(world_data.renderer_name)
		ScriptWorld.destroy_viewport(world_data.world, world_data.viewport_name)
		Managers.ui:destroy_world(world_data.world)

		world_data = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 27-27, warpins: 2 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._destroy_background = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._profile_spawner then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-9, warpins: 1 ---
		self._profile_spawner:destroy()

		self._profile_spawner = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-12, warpins: 2 ---
	if self._world_spawner then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-18, warpins: 1 ---
		self._world_spawner:destroy()

		self._world_spawner = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 19-19, warpins: 2 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView.on_exit = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-22, warpins: 1 ---
	CharacterAppearanceView.super.on_exit(self)
	self:_unload_all_appearance_icons()
	self:_destroy_background()
	self:_destroy_renderer()
	Managers.event:unregister(self, "update_character_sync_state")

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._set_selected_backstory = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._backstory_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-17, warpins: 2 ---
	local action = self._backstory_selection.action
	local settings = self._backstory_selection.settings
	local option = self._backstory_selection.option

	self._character_create[action](self._character_create, option)

	if action == "set_planet" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-20, warpins: 1 ---
		self:_randomize_character_backstory()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 21-23, warpins: 2 ---
	self._backstory_selection = nil

	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._populate_backstory_info = function (self, settings)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if not self._page_grids[2] or (self._page_grids[2] and #self._page_grids[2].widgets == 0) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-20, warpins: 2 ---
		local widgets = {}

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 21-31, warpins: 0 ---
		for name, definition in pairs(Definitions.choice_descriptions_definitions) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 21-29, warpins: 1 ---
			local name = name
			local widget = self:_create_widget(name, definition)
			widgets[#widgets + 1] = widget
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 30-31, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 32-35, warpins: 1 ---
		self._page_grids[2] = {
			widgets = widgets
		}
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 36-60, warpins: 3 ---
	self:_generate_reward_widgets()

	local widget_definitions = {}
	widget_definitions.background = UIWidget.create_definition({
		{
			value = "content/ui/materials/backgrounds/blurred_rectangle_01_flat_left",
			style_id = "texture",
			pass_type = "texture",
			style = {
				vertical_alignment = "center",
				horizontal_alignment = "left",
				color = Color.black(204, true)
			}
		}
	}, "backstory_selection_pivot_background")
	local support_widgets = {}

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 61-79, warpins: 0 ---
	for name, definition in pairs(widget_definitions) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 61-65, warpins: 1 ---
		local name = "backstory_selection_pivot_background"

		if self._widgets_by_name[name] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 66-69, warpins: 1 ---
			self:_unregister_widget_name(name)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 70-77, warpins: 2 ---
		support_widgets[#support_widgets + 1] = self:_create_widget(name, definition)
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 78-79, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 80-219, warpins: 1 ---
	local option_title = self._widgets_by_name.option_title
	local option_description = self._widgets_by_name.option_description
	local option_effect_title = self._widgets_by_name.option_effect_title
	local option_effect_description = self._widgets_by_name.option_effect_description
	local effect_margin = 100
	local text_margin = 10
	local background_margin = {
		40,
		40
	}
	local content_width = 440
	local background_size = {}
	background_size[1] = content_width + background_margin[1] * 2
	background_size[2] = background_margin[2] * 2
	option_title.content.text = string.upper(Localize(settings.display_name))
	option_description.content.text = Localize(settings.description)
	option_effect_title.content.text = Localize("loc_character_title_unlocks")
	local title_font_style = option_title.style.text
	local description_font_style = option_description.style.text
	local effect_title_font_style = option_effect_title.style.text
	local title_font_style_options = UIFonts.get_font_options_by_style(title_font_style)
	local description_font_style_options = UIFonts.get_font_options_by_style(description_font_style)
	local effect_title_font_style_options = UIFonts.get_font_options_by_style(effect_title_font_style)
	local _, title_height = UIRenderer.text_size(self._ui_renderer, option_title.content.text, title_font_style.font_type, title_font_style.font_size, {
		content_width,
		0
	}, title_font_style_options)
	local _, description_height = UIRenderer.text_size(self._ui_renderer, option_description.content.text, description_font_style.font_type, description_font_style.font_size, {
		content_width,
		0
	}, description_font_style_options)
	local _, effect_title_height = UIRenderer.text_size(self._ui_renderer, option_effect_title.content.text, effect_title_font_style.font_type, effect_title_font_style.font_size, {
		content_width,
		0
	}, effect_title_font_style_options)
	option_title.style.text.size = {
		content_width,
		title_height
	}
	option_description.style.text.size = {
		content_width,
		description_height
	}
	option_effect_title.style.text.size = {
		content_width,
		effect_title_height
	}
	option_title.offset = {
		background_margin[1],
		background_margin[2],
		1
	}
	option_description.offset = {
		background_margin[1],
		background_margin[2] + title_height + text_margin,
		1
	}
	background_size[2] = background_size[2] + option_title.style.text.size[2] + option_description.style.text.size[2] + text_margin
	local show_reward_text = self._pages[self._active_page_number].show_rewards_text or true
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 221-228, warpins: 2 ---
	option_effect_title.content.visible = false
	option_effect_description.content.visible = false

	if show_reward_text and settings and settings.unlocks then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 234-276, warpins: 1 ---
		option_effect_title.content.visible = true
		option_effect_description.content.visible = true
		local reward_height = 0
		option_effect_title.offset = {
			background_margin[1],
			background_margin[2] + option_description.style.text.offset[2] + option_description.style.text.size[2] + effect_margin,
			1
		}
		local start_pos = {}
		start_pos[1] = background_margin[1]
		start_pos[2] = option_effect_title.offset[2] + 50
		reward_height = self:_generate_reward_widgets(settings, start_pos, {
			content_width,
			0
		})
		background_size[2] = background_size[2] + reward_height + effect_margin
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 277-307, warpins: 4 ---
	support_widgets[1].style.texture.size = {
		background_size[1] + 40,
		background_size[2] + 40
	}

	self:_set_scenegraph_size("backstory_selection_pivot_background", background_size[1], background_size[2])
	self:_set_scenegraph_position("backstory_selection_pivot", nil, -background_size[2])

	self._page_grids[2].support_widgets = support_widgets

	self:_handle_continue_button_text()

	return
	--- END OF BLOCK #5 ---



end

CharacterAppearanceView._generate_reward_widgets = function (self, settings, start_pos, background_size)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._reward_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-15, warpins: 0 ---
		for i = 1, #self._reward_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-15, warpins: 2 ---
			local widget = self._reward_widgets[i]

			self:_unregister_widget_name(widget.name)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 16-17, warpins: 1 ---
		self._reward_widgets = nil
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-19, warpins: 2 ---
	if not settings or not settings.unlocks then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 23-24, warpins: 2 ---
		return 0
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 25-29, warpins: 2 ---
	local widgets = {}
	local margin = 20
	local start_offset_y = 0
	local start_pos_width = (start_pos and start_pos[1]) or 0
	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 34-35, warpins: 2 ---
	local start_pos_height = (start_pos and start_pos[2]) or 0

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 40-44, warpins: 2 ---
	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 45-119, warpins: 0 ---
	for i = 1, #settings.unlocks, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 45-50, warpins: 2 ---
		local unlock = settings.unlocks[i]
		local template_type = nil

		if unlock.type == "item" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-52, warpins: 1 ---
			template_type = "reward_cosmetic"
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 53-53, warpins: 1 ---
			template_type = "reward_text"
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 54-76, warpins: 2 ---
		local template = ContentBlueprints.blueprints[template_type]
		local pass_template = template.pass_template
		local size = template.size
		local widget_definition = UIWidget.create_definition(pass_template, "backstory_selection_pivot", nil, size)
		local name = "reward_" .. i
		local widget = self:_create_widget(name, widget_definition)

		if template.init then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 77-81, warpins: 1 ---
			template.init(self, widget, unlock)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 82-119, warpins: 2 ---
		local text_style = widget.style.title
		local style = UIFonts.get_font_options_by_style(text_style)
		local _, text_height = UIRenderer.text_size(self._ui_renderer, Localize(unlock.text), text_style.font_type, text_style.font_size, {
			background_size[1],
			0
		}, style)
		local widget_height = math.max(size[2], text_height)
		widget.content.size[2] = widget_height
		widget.offset[1] = start_pos_width
		widget.offset[2] = start_offset_y + start_pos_height
		start_offset_y = start_offset_y + widget_height + margin
		widgets[#widgets + 1] = widget
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 120-122, warpins: 1 ---
	self._reward_widgets = widgets

	return start_offset_y - margin
	--- END OF BLOCK #6 ---



end

CharacterAppearanceView._get_text_size = function (self, text, style_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-21, warpins: 1 ---
	local font_style = CharacterAppearanceViewFontStyle[style_name]
	local style = UIFonts.get_font_options_by_style(font_style)
	local width, height = UIRenderer.text_size(self._ui_renderer, text, font_style.font_type, font_style.font_size, {
		440,
		0
	}, style)

	return {
		width + 20,
		height + 20
	}
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._is_backstory_option_visible = function (self, option)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not option.visibility then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-5, warpins: 1 ---
		return true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-9, warpins: 2 ---
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 10-49, warpins: 0 ---
	for name, ids in pairs(option.visibility) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-11, warpins: 1 ---
		if name == "home_planet" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-22, warpins: 1 ---
			local selected_planet = self._character_create:planet()
			local selected_planet_id = HomePlanets[selected_planet].id

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 23-28, warpins: 0 ---
			for i = 1, #ids, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-25, warpins: 2 ---
				local id = ids[i]

				if selected_planet_id == id then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 26-27, warpins: 1 ---
					return true
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 28-28, warpins: 2 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 29-29, warpins: 1 ---
			--- END OF BLOCK #2 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 30-31, warpins: 1 ---
			if name == "archetype" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 32-41, warpins: 1 ---
				local profile = self._character_create:profile()
				local selected_archetype = profile.archetype.name

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 42-47, warpins: 0 ---
				for i = 1, #ids, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 42-44, warpins: 2 ---
					local id = ids[i]

					if selected_archetype == id then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 45-46, warpins: 1 ---
						return true
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 47-47, warpins: 2 ---
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 48-49, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 50-51, warpins: 1 ---
	return false
	--- END OF BLOCK #3 ---



end

CharacterAppearanceView._hide_pages_widgets = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-11, warpins: 0 ---
	for i = 1, #self._page_indicator_widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 2 ---
		local widget = self._page_indicator_widgets[i]
		widget.content.visible = false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 12-51, warpins: 1 ---
	self._widgets_by_name.list_background.content.visible = false
	self._widgets_by_name.list_header.content.visible = false
	self._widgets_by_name.list_description.content.visible = false
	self._widgets_by_name.page_indicator_frame.content.visible = false
	self._widgets_by_name.continue_button.content.visible = false
	self._widgets_by_name.backstory_text.content.visible = false
	self._widgets_by_name.choice_detail.content.visible = false
	self._widgets_by_name.backstory_text.alpha_multiplier = 0

	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._destroy_generated_widgets = function (self, start_index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	local start_index = start_index or 1

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-8, warpins: 2 ---
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 9-40, warpins: 0 ---
	for i = start_index, #self._page_grids, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-15, warpins: 2 ---
		local page_grid = self._page_grids[i]

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-34, warpins: 0 ---
		for j = 1, #page_grid.widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-22, warpins: 2 ---
			local widget = page_grid.widgets[j]
			local widget_name = widget.name
			local content = widget.content

			if widget.loads_icon and content.icon_load_id then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 26-29, warpins: 1 ---
				self:_unload_appearance_icon(widget)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 30-34, warpins: 3 ---
			self:_unregister_widget_name(widget_name)
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 35-40, warpins: 1 ---
		self._page_grids[i] = {
			widgets = {}
		}
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 41-44, warpins: 1 ---
	self:_generate_reward_widgets()

	return
	--- END OF BLOCK #3 ---



end

CharacterAppearanceView._show_default_page = function (self, page)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-11, warpins: 0 ---
	for i = 1, #self._page_indicator_widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 2 ---
		local widget = self._page_indicator_widgets[i]
		widget.content.visible = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 12-14, warpins: 1 ---
	local title = page.title

	if title then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-22, warpins: 1 ---
		self._widgets_by_name.list_header.content.text_title = string.upper(title)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 23-25, warpins: 2 ---
	local description = page.description

	if description then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-29, warpins: 1 ---
		self._widgets_by_name.list_description.content.text = description
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 30-56, warpins: 2 ---
	self._widgets_by_name.list_background.content.visible = true
	self._widgets_by_name.list_header.content.visible = true
	self._widgets_by_name.list_description.content.visible = not not description
	self._widgets_by_name.page_indicator_frame.content.visible = true
	self._widgets_by_name.continue_button.content.visible = true

	return
	--- END OF BLOCK #4 ---



end

CharacterAppearanceView._update_final_page_text = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-78, warpins: 1 ---
	local name = self._character_create:name()
	local planet_snippet = HomePlanets[self._character_create:planet()].story_snippet
	local childhood_snippet = Childhood[self._character_create:childhood()].story_snippet
	local growing_up_snippet = GrowingUp[self._character_create:growing_up()].story_snippet
	local formative_event_snippet = FormativeEvent[self._character_create:formative_event()].story_snippet
	local crime_snippet = Crimes[self._character_create:crime()].story_snippet
	local end_snippet = Localize("loc_character_backstory_snippet")
	local backstory_widget = self._widgets_by_name.backstory_text
	local backstory_text = string.format([[
%s %s %s %s

%s

%s]], Localize(planet_snippet), Localize(childhood_snippet), Localize(growing_up_snippet), Localize(formative_event_snippet), Localize(crime_snippet), end_snippet)
	backstory_widget.content.text = backstory_text
	local text_size = self:_get_text_size(backstory_text, "description_style")

	self:_set_scenegraph_size("backstory_text", nil, text_size[2])

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._show_final_page = function (self, page)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	self:_create_errors_name_input()
	self:_destroy_support_page_widgets()

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 12-17, warpins: 0 ---
	for i = 1, #self._page_indicator_widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-17, warpins: 2 ---
		local widget = self._page_indicator_widgets[i]
		widget.content.visible = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 18-75, warpins: 1 ---
	self:_update_final_page_text()

	self._widgets_by_name.continue_button.content.visible = true
	self._widgets_by_name.page_indicator_frame.content.visible = true
	local name = "name_input_widget"
	local template_type = "name_input"
	local template = ContentBlueprints.blueprints[template_type]
	local pass_template = template.pass_template
	local size = template.size
	local widget_definition = UIWidget.create_definition(pass_template, "name_input", nil, size)
	local widget = self:_create_widget(name, widget_definition)
	local character_name = self._character_create:name()
	widget.content.template_type = template_type

	template.init(self, widget, character_name)
	self:_set_scenegraph_size("name_input", size[1], size[2])

	local randomize_button_widget = self:_create_randomize_button()
	local backstory_widget = self._widgets_by_name.backstory_text
	local playing_animation = backstory_widget.content.animation_id

	if playing_animation and self:_is_animation_active(playing_animation) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 82-88, warpins: 1 ---
		self:_complete_animation(playing_animation)

		backstory_widget.content.animation_id = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 89-114, warpins: 3 ---
	widget.alpha_multiplier = 0
	randomize_button_widget.alpha_multiplier = 0
	local params = {}
	params.widgets = {
		backstory_widget,
		widget,
		randomize_button_widget
	}
	local animation_id = self:_start_animation("on_enter", nil, params)
	backstory_widget.content.animation_id = animation_id
	backstory_widget.content.visible = true
	self._page_widgets = {
		widget,
		randomize_button_widget
	}

	return
	--- END OF BLOCK #3 ---



end

CharacterAppearanceView._create_randomize_button = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local service_type = DefaultViewInputSettings.service_type

	if self._page_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-14, warpins: 1 ---
		local widget = self._page_widgets[2]

		self:_unregister_widget_name(widget.name)

		self._page_widgets[2] = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 15-54, warpins: 2 ---
	local template_type = "name_input"
	local template = ContentBlueprints.blueprints[template_type]
	local size = template.size
	local randomize_button_widget = self:_create_widget("randomize_button", Definitions.randomize_button_definition)
	local randomize_button_widget_size = randomize_button_widget.content.size
	local margin = {
		25
	}
	margin[2] = (size[2] - randomize_button_widget_size[2]) * 0.5
	randomize_button_widget.offset = {
		size[1] + margin[1],
		margin[2],
		1
	}
	randomize_button_widget.content.hotspot.pressed_callback = callback(self, "_randomize_character_name")
	randomize_button_widget.content.show_icon = self._using_cursor_navigation

	if not self._using_cursor_navigation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 55-83, warpins: 1 ---
		local action = "hotkey_menu_special_2"
		local alias_key = Managers.ui:get_input_alias_key(action, service_type)
		local input_text = InputUtils.input_text_for_current_input_device(service_type, alias_key)
		randomize_button_widget.content.text = string.format("%s %s", input_text, Localize("loc_randomize"))
		randomize_button_widget.style.text.offset[1] = 0
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 84-93, warpins: 1 ---
		randomize_button_widget.content.text = Localize("loc_randomize")
		randomize_button_widget.style.text.offset[1] = 45
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 94-94, warpins: 2 ---
	return randomize_button_widget
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._set_character_height = function (self, scale_factor)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	self._profile_spawner:set_character_scale(scale_factor)
	self._character_create:set_height(scale_factor)

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._get_appearance_category_options = function (self, category_entry_options)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local function on_pressed_function(function_name, value, value_key)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-4, warpins: 1 ---
		local character_create = self._character_create

		if value_key then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 5-10, warpins: 1 ---
			character_create[function_name](character_create, value_key, value)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-14, warpins: 1 ---
			character_create[function_name](character_create, value)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 15-15, warpins: 2 ---
		return
		--- END OF BLOCK #1 ---



	end

	local function get_value_function(function_name, value_key)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-4, warpins: 1 ---
		local character_create = self._character_create

		if value_key then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 5-9, warpins: 1 ---
			return character_create[function_name](character_create, value_key)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-12, warpins: 1 ---
			return character_create[function_name](character_create)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-13, warpins: 2 ---
		return
		--- END OF BLOCK #1 ---



	end

	local function select_eye(type, value, slot_name)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-8, warpins: 1 ---
		local eye_color_options = self._character_create:slot_item_options("slot_body_eye_color")

		if type == "color" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-13, warpins: 1 ---
			self._eye_color = value.material_overrides[1]
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-16, warpins: 1 ---
			self._eye_type = value.name
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 17-20, warpins: 2 ---
		if not self._eye_color then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 21-27, warpins: 1 ---
			self._eye_color = eye_colors[1].material_overrides[1]
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 28-32, warpins: 2 ---
		local selected_option = nil

		if self._eye_type == "no_blind" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-38, warpins: 1 ---
			local name_lookup = self._eye_color

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 39-60, warpins: 0 ---
			for i = 1, #eye_color_options, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 39-48, warpins: 2 ---
				local option = eye_color_options[i]
				local name = option.material_overrides[1]

				if string.find(name, name_lookup) and not string.find(name, name_lookup .. "_") then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 58-59, warpins: 1 ---
					selected_option = option

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 60-60, warpins: 1 ---
					break
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 60-60, warpins: 2 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 61-61, warpins: 1 ---
			--- END OF BLOCK #2 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 62-65, warpins: 1 ---
			if self._eye_type == "blind_both" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 66-70, warpins: 1 ---
				local name_lookup = "eyes_blind_both"

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 71-83, warpins: 0 ---
				for i = 1, #eye_color_options, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 71-80, warpins: 2 ---
					local option = eye_color_options[i]
					local name = option.material_overrides[1]

					if string.find(name, name_lookup) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 81-82, warpins: 1 ---
						selected_option = option

						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 83-83, warpins: 1 ---
						break
						--- END OF BLOCK #1 ---



					end
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 83-83, warpins: 1 ---
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #1 ---

				FLOW; TARGET BLOCK #2



				-- Decompilation error in this vicinity:
				--- BLOCK #2 84-84, warpins: 1 ---
				--- END OF BLOCK #2 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 85-94, warpins: 1 ---
				local name_lookup = self._eye_color .. "_" .. self._eye_type

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 95-107, warpins: 0 ---
				for i = 1, #eye_color_options, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 95-104, warpins: 2 ---
					local option = eye_color_options[i]
					local name = option.material_overrides[1]

					if string.find(name, name_lookup) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 105-106, warpins: 1 ---
						selected_option = option

						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 107-107, warpins: 1 ---
						break
						--- END OF BLOCK #1 ---



					end
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 107-107, warpins: 1 ---
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 108-116, warpins: 6 ---
		self._character_create.set_item_per_slot(self._character_create, slot_name, selected_option)

		return
		--- END OF BLOCK #3 ---



	end

	local function get_eye_type(slot_name)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-9, warpins: 1 ---
		local selected_eye = self._character_create.slot_item(self._character_create, slot_name)

		if not selected_eye then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-12, warpins: 1 ---
			return self._eye_type
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-21, warpins: 2 ---
		local name = selected_eye.material_overrides[1]

		if string.find(name, "blind_left") then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 22-28, warpins: 1 ---
			self._eye_type = "blind_left"

			return eye_types[2]
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-35, warpins: 1 ---
			if string.find(name, "blind_right") then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 36-42, warpins: 1 ---
				self._eye_type = "blind_right"

				return eye_types[3]
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-49, warpins: 1 ---
				if string.find(name, "blind_both") then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 50-56, warpins: 1 ---
					self._eye_type = "blind_both"

					return eye_types[4]
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 57-62, warpins: 1 ---
					self._eye_type = "no_blind"

					return eye_types[1]
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 63-63, warpins: 4 ---
		return
		--- END OF BLOCK #2 ---



	end

	local function get_eye_color(slot_name)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-14, warpins: 1 ---
		local selected_option = self._character_create.slot_item(self._character_create, slot_name)
		local option_name = selected_option.material_overrides[1]

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 15-29, warpins: 0 ---
		for i = 1, #eye_colors, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-25, warpins: 2 ---
			local eye_color = eye_colors[i]
			local eye_color_name = eye_color.material_overrides[1]

			if string.find(option_name, eye_color_name) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 26-28, warpins: 1 ---
				self._eye_color = eye_color_name

				return eye_color
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 29-29, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 30-32, warpins: 1 ---
		return self._eye_color
		--- END OF BLOCK #2 ---



	end

	local category_options = {}

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-235, warpins: 0 ---
	for i = 1, #category_entry_options, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-34, warpins: 2 ---
		local category_entry_option = category_entry_options[i]
		local entry_type = category_entry_option.type
		local entry_options = category_entry_option.options
		local entry_slot_name = category_entry_option.slot_name
		local entry_type_template = category_entry_option.template
		local entry_type_grid_template = category_entry_option.grid_template
		local entry_no_option = category_entry_option.no_option
		local entry_icon_background = category_entry_option.icon_background
		local entry_enter = category_entry_option.enter
		local entry_leave = category_entry_option.leave
		local options = {}
		category_options[i] = {
			template = entry_type_template,
			slot_name = entry_slot_name,
			options = options,
			grid_template = entry_type_grid_template,
			enter = entry_enter,
			leave = entry_leave,
			no_option = entry_no_option,
			icon_background = entry_icon_background,
			type = entry_type
		}

		if entry_type == "skin_color" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 35-38, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 39-55, warpins: 0 ---
			for j = 1, #entry_options, 1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 39-55, warpins: 2 ---
				local option = entry_options[j]
				local skin_override = SkinMaterialOverrides[option.material_overrides[1]]
				local property_overrides = skin_override.property_overrides
				local hsv_skin = property_overrides.hsv_skin
				options[#options + 1] = {
					color = hsv_skin,
					value = option,
					on_pressed_function = function (widget)

						-- Decompilation error in this vicinity:
						--- BLOCK #0 1-18, warpins: 1 ---
						on_pressed_function("set_item_per_slot", option, entry_slot_name)
						self:_check_appearance_continue_block(self._pages[5].content)
						self:_update_appearance_icon()

						return
						--- END OF BLOCK #0 ---



					end
				}
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 56-66, warpins: 1 ---
			category_options[i].get_value_function = callback(get_value_function, "slot_item", entry_slot_name)
			category_options[i].texture = "content/ui/materials/icons/appearances/skin_color"
			--- END OF BLOCK #2 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 67-68, warpins: 1 ---
			if entry_type == "eye_type" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 69-72, warpins: 1 ---
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 73-84, warpins: 0 ---
				for j = 1, #entry_options, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 73-84, warpins: 2 ---
					local option = entry_options[j]
					options[#options + 1] = {
						value = option,
						icon_texture = option.icon_texture,
						on_pressed_function = function (widget)

							-- Decompilation error in this vicinity:
							--- BLOCK #0 1-22, warpins: 1 ---
							select_eye("type", option, entry_slot_name)
							self:_update_appearance_selection()
							self:_check_appearance_continue_block(self._pages[5].content)
							self:_update_appearance_icon()

							return
							--- END OF BLOCK #0 ---



						end
					}
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #1 ---

				FLOW; TARGET BLOCK #2



				-- Decompilation error in this vicinity:
				--- BLOCK #2 85-91, warpins: 1 ---
				category_options[i].get_value_function = callback(get_eye_type, entry_slot_name)
				--- END OF BLOCK #2 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 92-93, warpins: 1 ---
				if entry_type == "eye_color" then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 94-97, warpins: 1 ---
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 98-114, warpins: 0 ---
					for j = 1, #entry_options, 1 do

						-- Decompilation error in this vicinity:
						--- BLOCK #0 98-114, warpins: 2 ---
						local option = entry_options[j]
						local eye_override = EyeMaterialOverrides[option.material_overrides[1]]
						local property_overrides = eye_override.property_overrides
						local hsv_eye = property_overrides.hsv_eye
						options[#options + 1] = {
							value = option,
							color = hsv_eye,
							on_pressed_function = function (widget)

								-- Decompilation error in this vicinity:
								--- BLOCK #0 1-18, warpins: 1 ---
								select_eye("color", option, entry_slot_name)
								self:_check_appearance_continue_block(self._pages[5].content)
								self:_update_appearance_icon()

								return
								--- END OF BLOCK #0 ---



							end
						}
						--- END OF BLOCK #0 ---



					end

					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 115-124, warpins: 1 ---
					category_options[i].get_value_function = callback(get_eye_color, entry_slot_name)
					category_options[i].texture = "content/ui/materials/icons/appearances/eye_color"
					--- END OF BLOCK #2 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 125-126, warpins: 1 ---
					if entry_type == "hair_color" then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 127-130, warpins: 1 ---
						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 131-157, warpins: 0 ---
						for j = 1, #entry_options, 1 do

							-- Decompilation error in this vicinity:
							--- BLOCK #0 131-157, warpins: 2 ---
							local option = entry_options[j]
							local skin_override = HairMaterialOverrides[option.material_overrides[1]]
							local property_overrides = skin_override.property_overrides
							local hair_rgb = property_overrides.hair_rgb
							local color = {
								255
							}
							color[2] = hair_rgb[1] * 255
							color[3] = hair_rgb[2] * 255
							color[4] = hair_rgb[3] * 255
							options[#options + 1] = {
								color = color,
								value = option,
								on_pressed_function = function ()

									-- Decompilation error in this vicinity:
									--- BLOCK #0 1-18, warpins: 1 ---
									on_pressed_function("set_item_per_slot", option, entry_slot_name)
									self:_check_appearance_continue_block(self._pages[5].content)
									self:_update_appearance_icon()

									return
									--- END OF BLOCK #0 ---



								end
							}
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #1 ---

						FLOW; TARGET BLOCK #2



						-- Decompilation error in this vicinity:
						--- BLOCK #2 158-168, warpins: 1 ---
						category_options[i].get_value_function = callback(get_value_function, "slot_item", entry_slot_name)
						category_options[i].texture = "content/ui/materials/icons/appearances/hair_color"
						--- END OF BLOCK #2 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 169-170, warpins: 1 ---
						if entry_type == "gender" then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 171-176, warpins: 1 ---
							local gender_display_name = {
								male = "loc_gender_display_name_male",
								female = "loc_gender_display_name_female"
							}
							local gender_presentation = {
								female = "content/ui/textures/icons/appearances/body_types/feminine",
								male = "content/ui/textures/icons/appearances/body_types/masculine"
							}

							--- END OF BLOCK #0 ---

							FLOW; TARGET BLOCK #1



							-- Decompilation error in this vicinity:
							--- BLOCK #1 177-190, warpins: 0 ---
							for j = 1, #entry_options, 1 do

								-- Decompilation error in this vicinity:
								--- BLOCK #0 177-190, warpins: 2 ---
								local option = entry_options[j]
								options[#options + 1] = {
									on_pressed_function = function (widget)

										-- Decompilation error in this vicinity:
										--- BLOCK #0 1-47, warpins: 1 ---
										on_pressed_function("set_gender", option)

										local page = self._pages[self._active_page_number]
										page.content = self:_get_appearance_content()

										self:_populate_page_grid(1, page.content)
										self:_check_appearance_continue_block(self._pages[5].content)
										self._character_create:reset_height()

										local height = self._character_create:height()

										self:_set_character_height(height)

										self._height_changed = true

										return
										--- END OF BLOCK #0 ---



									end,
									display_name = gender_display_name[option],
									value = option,
									icon_texture = gender_presentation[option]
								}
								--- END OF BLOCK #0 ---



							end

							--- END OF BLOCK #1 ---

							FLOW; TARGET BLOCK #2



							-- Decompilation error in this vicinity:
							--- BLOCK #2 191-197, warpins: 1 ---
							category_options[i].get_value_function = callback(get_value_function, "gender")
							--- END OF BLOCK #2 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 198-199, warpins: 1 ---
							if entry_type == "height" then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 200-203, warpins: 1 ---
								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 204-211, warpins: 0 ---
								for j = 1, #entry_options, 1 do

									-- Decompilation error in this vicinity:
									--- BLOCK #0 204-211, warpins: 2 ---
									local option = entry_options[j]
									options[#options + 1] = {
										on_value_updated = function (value)

											-- Decompilation error in this vicinity:
											--- BLOCK #0 1-34, warpins: 1 ---
											local height_range = self._character_create:get_height_values_range()
											local min_height = height_range.min
											local max_height = height_range.max
											local scale_factor = math.lerp(min_height, max_height, value)
											local fmtStr = string.format("%%0.%sf", 3)
											scale_factor = string.format(fmtStr, scale_factor)
											scale_factor = tonumber(scale_factor)

											self:_set_character_height(scale_factor)

											return
											--- END OF BLOCK #0 ---



										end
									}
									--- END OF BLOCK #0 ---



								end
								--- END OF BLOCK #1 ---

								FLOW; TARGET BLOCK #2



								-- Decompilation error in this vicinity:
								--- BLOCK #2 212-212, warpins: 1 ---
								--- END OF BLOCK #2 ---



							else

								-- Decompilation error in this vicinity:
								--- BLOCK #0 213-216, warpins: 1 ---
								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 217-226, warpins: 0 ---
								for j = 1, #entry_options, 1 do

									-- Decompilation error in this vicinity:
									--- BLOCK #0 217-226, warpins: 2 ---
									local option = entry_options[j]
									options[#options + 1] = {
										value = option,
										on_pressed_function = function (widget)

											-- Decompilation error in this vicinity:
											--- BLOCK #0 1-14, warpins: 1 ---
											on_pressed_function("set_item_per_slot", option, entry_slot_name)
											self:_check_appearance_continue_block(self._pages[5].content)

											return
											--- END OF BLOCK #0 ---



										end
									}
									--- END OF BLOCK #0 ---



								end

								--- END OF BLOCK #1 ---

								FLOW; TARGET BLOCK #2



								-- Decompilation error in this vicinity:
								--- BLOCK #2 227-233, warpins: 1 ---
								category_options[i].get_value_function = callback(get_value_function, "slot_item", entry_slot_name)
								--- END OF BLOCK #2 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 234-235, warpins: 7 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 236-241, warpins: 1 ---
	self:_check_valid_options(category_options)

	return category_options
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._get_planet_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	local planets = self._character_create:planet_options()
	local planet_options = {}

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-23, warpins: 0 ---
	for i = 1, #planets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-23, warpins: 2 ---
		local option = planets[i]
		local planet_settings = HomePlanets[option]
		planet_options[i] = {
			text = Localize(planet_settings.display_name),
			value = option,
			on_pressed_function = function ()

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-22, warpins: 1 ---
				self._backstory_selection = {
					action = "set_planet",
					settings = planet_settings,
					option = option
				}

				self:_set_selected_backstory()
				self:_move_background_to_position(planet_settings)
				self:_populate_backstory_info(planet_settings)

				return
				--- END OF BLOCK #0 ---



			end
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 24-40, warpins: 1 ---
	return {
		template = "button",
		options = planet_options,
		get_value_function = callback(self._character_create, "planet"),
		reset_value_function = callback(self._character_create, "set_planet", nil),
		settings = HomePlanets
	}
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._get_childhood_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local childhood = self._character_create:childhood_options()
	local childhood_options = {}

	if childhood and #childhood > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-15, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-35, warpins: 0 ---
		for i = 1, #childhood, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-35, warpins: 2 ---
			local option = childhood[i]
			local childhood_settings = Childhood[option]
			childhood_options[#childhood_options + 1] = {
				text = Localize(childhood_settings.display_name),
				value = option,
				on_pressed_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-17, warpins: 1 ---
					self._backstory_selection = {
						action = "set_childhood",
						settings = childhood_settings,
						option = option
					}

					self:_set_selected_backstory()
					self:_populate_backstory_info(childhood_settings)

					return
					--- END OF BLOCK #0 ---



				end,
				on_randomize = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-12, warpins: 1 ---
					self._backstory_selection = {
						action = "set_childhood",
						settings = childhood_settings,
						option = option
					}

					self:_set_selected_backstory()

					return
					--- END OF BLOCK #0 ---



				end,
				visibility_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-5, warpins: 1 ---
					return self:_is_backstory_option_visible(childhood_settings)
					--- END OF BLOCK #0 ---



				end
			}
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 36-52, warpins: 3 ---
	return {
		template = "button",
		options = childhood_options,
		get_value_function = callback(self._character_create, "childhood"),
		reset_value_function = callback(self._character_create, "set_childhood", nil),
		settings = Childhood
	}
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._get_growing_up_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local growing_up = self._character_create:growing_up_options()
	local growing_up_options = {}

	if growing_up and #growing_up > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-15, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-40, warpins: 0 ---
		for i = 1, #growing_up, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-40, warpins: 2 ---
			local option = growing_up[i]
			local growing_up_settings = GrowingUp[option]
			growing_up_options[#growing_up_options + 1] = {
				text = Localize(growing_up_settings.display_name),
				value = option,
				on_pressed_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-17, warpins: 1 ---
					self._backstory_selection = {
						action = "set_growing_up",
						settings = growing_up_settings,
						option = option
					}

					self:_set_selected_backstory()
					self:_populate_backstory_info(growing_up_settings)

					return
					--- END OF BLOCK #0 ---



				end,
				on_randomize = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-12, warpins: 1 ---
					self._backstory_selection = {
						action = "set_growing_up",
						settings = growing_up_settings,
						option = option
					}

					self:_set_selected_backstory()

					return
					--- END OF BLOCK #0 ---



				end,
				get_value_function = callback(self._character_create, "growing_up"),
				visibility_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-5, warpins: 1 ---
					return self:_is_backstory_option_visible(growing_up_settings)
					--- END OF BLOCK #0 ---



				end
			}
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 41-57, warpins: 3 ---
	return {
		template = "button",
		options = growing_up_options,
		get_value_function = callback(self._character_create, "growing_up"),
		reset_value_function = callback(self._character_create, "set_growing_up", nil),
		settings = GrowingUp
	}
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._get_formative_event_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local formative_events = self._character_create:formative_event_options()
	local formative_events_options = {}

	if formative_events and #formative_events > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-15, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-35, warpins: 0 ---
		for i = 1, #formative_events, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-35, warpins: 2 ---
			local option = formative_events[i]
			local formative_events_settings = FormativeEvent[option]
			formative_events_options[#formative_events_options + 1] = {
				text = Localize(formative_events_settings.display_name),
				value = option,
				on_pressed_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-17, warpins: 1 ---
					self._backstory_selection = {
						action = "set_formative_event",
						settings = formative_events_settings,
						option = option
					}

					self:_set_selected_backstory()
					self:_populate_backstory_info(formative_events_settings)

					return
					--- END OF BLOCK #0 ---



				end,
				on_randomize = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-12, warpins: 1 ---
					self._backstory_selection = {
						action = "set_formative_event",
						settings = formative_events_settings,
						option = option
					}

					self:_set_selected_backstory()

					return
					--- END OF BLOCK #0 ---



				end,
				visibility_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-5, warpins: 1 ---
					return self:_is_backstory_option_visible(formative_events_settings)
					--- END OF BLOCK #0 ---



				end
			}
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 36-52, warpins: 3 ---
	return {
		template = "button",
		options = formative_events_options,
		get_value_function = callback(self._character_create, "formative_event"),
		reset_value_function = callback(self._character_create, "set_formative_event", nil),
		settings = FormativeEvent
	}
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._get_backstory_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local backstory_options = {}
	local backstory = {}

	backstory.get_value_function = function ()

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-1, warpins: 1 ---
		return
		--- END OF BLOCK #0 ---



	end

	backstory.options = backstory_options
	local childhood = self:_get_childhood_content()

	if childhood and #childhood.options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-37, warpins: 1 ---
		backstory_options[#backstory_options + 1] = {
			page_template = "backstory_selection",
			title = Localize("loc_character_childhood_title_name"),
			options = childhood.options,
			get_value_function = childhood.get_value_function,
			reset_value_function = childhood.reset_value_function,
			settings = Childhood,
			template = childhood.template,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-4, warpins: 1 ---
				local selected_option = page.get_value_function()

				if selected_option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 5-11, warpins: 1 ---
					local childhood_settings = Childhood[selected_option]

					self:_populate_backstory_info(childhood_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 12-16, warpins: 2 ---
				self:_handle_continue_button_text()

				return
				--- END OF BLOCK #1 ---



			end,
			leave = function (cancel_selection)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-2, warpins: 1 ---
				if cancel_selection then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 3-6, warpins: 1 ---
					self._backstory_selection = nil
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 7-10, warpins: 1 ---
					self:_set_selected_backstory()
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 11-11, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 38-42, warpins: 3 ---
	local growing_up = self:_get_growing_up_content()

	if growing_up and #growing_up.options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 48-69, warpins: 1 ---
		backstory_options[#backstory_options + 1] = {
			page_template = "backstory_selection",
			title = Localize("loc_character_growing_up_title_name"),
			options = growing_up.options,
			get_value_function = growing_up.get_value_function,
			reset_value_function = growing_up.reset_value_function,
			settings = GrowingUp,
			template = growing_up.template,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-4, warpins: 1 ---
				local selected_option = page.get_value_function()

				if selected_option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 5-11, warpins: 1 ---
					local growing_up_settings = GrowingUp[selected_option]

					self:_populate_backstory_info(growing_up_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 12-16, warpins: 2 ---
				self:_handle_continue_button_text()

				return
				--- END OF BLOCK #1 ---



			end,
			leave = function (cancel_selection)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-2, warpins: 1 ---
				if cancel_selection then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 3-6, warpins: 1 ---
					self._backstory_selection = nil
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 7-10, warpins: 1 ---
					self:_set_selected_backstory()
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 11-11, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 70-74, warpins: 3 ---
	local formative_events = self:_get_formative_event_content()

	if formative_events and #formative_events.options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 80-101, warpins: 1 ---
		backstory_options[#backstory_options + 1] = {
			page_template = "backstory_selection",
			title = Localize("loc_character_event_title_name"),
			options = formative_events.options,
			get_value_function = formative_events.get_value_function,
			reset_value_function = formative_events.reset_value_function,
			settings = FormativeEvent,
			template = formative_events.template,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self._backstory_selection_page = page
				local selected_option = page.get_value_function()

				if selected_option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 7-13, warpins: 1 ---
					local formative_events_settings = FormativeEvent[selected_option]

					self:_populate_backstory_info(formative_events_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 14-18, warpins: 2 ---
				self:_handle_continue_button_text()

				return
				--- END OF BLOCK #1 ---



			end,
			leave = function (cancel_selection)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-5, warpins: 1 ---
				self._backstory_selection_page = nil

				if cancel_selection then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 6-9, warpins: 1 ---
					self._backstory_selection = nil
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 10-13, warpins: 1 ---
					self:_set_selected_backstory()
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 14-14, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 102-103, warpins: 3 ---
	return backstory
	--- END OF BLOCK #3 ---



end

CharacterAppearanceView._get_appearance_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	local appearance_options = {}
	local appearance = {
		template = "category_button"
	}
	appearance.options = appearance_options

	appearance.get_value_function = function ()

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-1, warpins: 1 ---
		return
		--- END OF BLOCK #0 ---



	end

	local gender_options = self._character_create:gender_options()

	if gender_options and #gender_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-33, warpins: 1 ---
		appearance_options[#appearance_options + 1] = {
			icon = "content/ui/materials/icons/item_types/body_types",
			text = Localize("loc_gender"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					slot_name = "slot_body",
					grid_template = "icon",
					template = "icon",
					type = "gender",
					icon_background = "content/ui/textures/icons/appearances/backgrounds/generic",
					options = gender_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 34-45, warpins: 3 ---
	local face_item_options = self._character_create:slot_item_options("slot_body_face")
	local skin_color_options = self._character_create:slot_item_options("slot_body_skin_color")

	if face_item_options and #face_item_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 50-80, warpins: 1 ---
		table.sort(face_item_options, sort_by_order)
		table.sort(skin_color_options, sort_by_order)

		appearance_options[#appearance_options + 1] = {
			camera_focus = "slot_body_face",
			icon = "content/ui/materials/icons/item_types/face_types",
			text = Localize("loc_face"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					grid_template = "icon",
					template = "slot_icon",
					slot_name = "slot_body_face",
					options = face_item_options
				},
				{
					slot_name = "slot_body_skin_color",
					grid_template = "icon_small",
					template = "icon_small_texture_hsv",
					type = "skin_color",
					options = skin_color_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 81-88, warpins: 3 ---
	local eye_color_options = self._character_create:slot_item_options("slot_body_eye_color")

	local function sort_eye_color_by_blindness()

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-9, warpins: 1 ---
		local colors_eye_blind_left = {}
		local colors_eye_blind_right = {}
		local colors_eye_blind_both = {}
		local colors_eye = {}

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 10-50, warpins: 0 ---
		for i = 1, #eye_color_options, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-20, warpins: 2 ---
			local eye_color = eye_color_options[i]
			local name = eye_color.material_overrides[1]

			if string.find(name, "blind_left") then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 21-24, warpins: 1 ---
				colors_eye_blind_left[#colors_eye_blind_left + 1] = eye_color
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 25-31, warpins: 1 ---
				if string.find(name, "blind_right") then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 32-35, warpins: 1 ---
					colors_eye_blind_right[#colors_eye_blind_right + 1] = eye_color
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 36-42, warpins: 1 ---
					if string.find(name, "blind_both") then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 43-46, warpins: 1 ---
						colors_eye_blind_both[#colors_eye_blind_both + 1] = eye_color
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 47-49, warpins: 1 ---
						colors_eye[#colors_eye + 1] = eye_color
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 50-50, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 51-55, warpins: 1 ---
		return colors_eye, colors_eye_blind_left, colors_eye_blind_right, colors_eye_blind_both
		--- END OF BLOCK #2 ---



	end

	if eye_color_options and #eye_color_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 93-123, warpins: 1 ---
		table.sort(eye_color_options, sort_by_order)

		eye_colors = sort_eye_color_by_blindness()
		appearance_options[#appearance_options + 1] = {
			camera_focus = "slot_body_face",
			icon = "content/ui/materials/icons/item_types/eye_color",
			text = Localize("loc_eye_color"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					slot_name = "slot_body_eye_color",
					grid_template = "icon",
					template = "icon",
					type = "eye_type",
					options = eye_types
				},
				{
					slot_name = "slot_body_eye_color",
					grid_template = "icon_small",
					template = "icon_small_texture_hsv",
					type = "eye_color",
					options = eye_colors
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 124-135, warpins: 3 ---
	local hair_item_options = self._character_create:slot_item_options("slot_body_hair")
	local hair_color_options = self._character_create:slot_item_options("slot_body_hair_color")

	if hair_item_options and #hair_item_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 140-170, warpins: 1 ---
		table.sort(hair_item_options, sort_by_order)
		table.sort(hair_color_options, sort_by_order)

		appearance_options[#appearance_options + 1] = {
			camera_focus = "slot_body_face",
			icon = "content/ui/materials/icons/item_types/hair_styles",
			text = Localize("loc_hair"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					grid_template = "icon",
					template = "slot_icon",
					slot_name = "slot_body_hair",
					options = hair_item_options
				},
				{
					slot_name = "slot_body_hair_color",
					grid_template = "icon_small",
					template = "icon_small_texture",
					type = "hair_color",
					options = hair_color_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 171-182, warpins: 3 ---
	local face_hair_options = self._character_create:slot_item_options("slot_body_face_hair")
	local facial_hair_color_options = self._character_create:slot_item_options("slot_body_hair_color")

	if face_hair_options and #face_hair_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 187-217, warpins: 1 ---
		table.sort(face_hair_options, sort_by_order)
		table.sort(facial_hair_color_options, sort_by_order)

		appearance_options[#appearance_options + 1] = {
			camera_focus = "slot_body_face",
			icon = "content/ui/materials/icons/item_types/facial_hair_styles",
			text = Localize("loc_face_hair"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					grid_template = "icon",
					template = "slot_icon",
					slot_name = "slot_body_face_hair",
					options = face_hair_options
				},
				{
					slot_name = "slot_body_hair_color",
					grid_template = "icon_small",
					template = "icon_small_texture",
					type = "hair_color",
					options = facial_hair_color_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 218-224, warpins: 3 ---
	local face_tattoo_options = self._character_create:slot_item_options("slot_body_face_tattoo")

	if face_tattoo_options and #face_tattoo_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 229-251, warpins: 1 ---
		table.sort(face_tattoo_options, sort_by_order)

		appearance_options[#appearance_options + 1] = {
			camera_focus = "slot_body_face",
			icon = "content/ui/materials/icons/item_types/face_tattoos",
			text = Localize("loc_face_tattoo"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					slot_name = "slot_body_face_tattoo",
					grid_template = "icon",
					template = "icon",
					icon_background = "content/ui/textures/icons/appearances/backgrounds/face_tattoos",
					no_option = true,
					options = face_tattoo_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 252-258, warpins: 3 ---
	local body_tattoo_options = self._character_create:slot_item_options("slot_body_tattoo")

	if body_tattoo_options and #body_tattoo_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 263-285, warpins: 1 ---
		table.sort(body_tattoo_options, sort_by_order)

		appearance_options[#appearance_options + 1] = {
			icon = "content/ui/materials/icons/item_types/body_tattoos",
			text = Localize("loc_body_tattoo"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					slot_name = "slot_body_tattoo",
					grid_template = "icon",
					template = "icon",
					icon_background = "content/ui/textures/icons/appearances/backgrounds/body_tattoos",
					no_option = true,
					options = body_tattoo_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 286-292, warpins: 3 ---
	local face_scar_options = self._character_create:slot_item_options("slot_body_face_scar")

	if face_scar_options and #face_scar_options > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 297-319, warpins: 1 ---
		table.sort(face_scar_options, sort_by_order)

		appearance_options[#appearance_options + 1] = {
			camera_focus = "slot_body_face",
			icon = "content/ui/materials/icons/item_types/scars",
			text = Localize("loc_face_scar"),
			on_pressed_function = function (widget)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-6, warpins: 1 ---
				self:_open_appearance_options(widget.index)

				return
				--- END OF BLOCK #0 ---



			end,
			options = self:_get_appearance_category_options({
				{
					slot_name = "slot_body_face_scar",
					grid_template = "icon",
					template = "icon",
					icon_background = "content/ui/textures/icons/appearances/backgrounds/scars",
					no_option = true,
					options = face_scar_options
				}
			})
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 320-346, warpins: 3 ---
	appearance_options[#appearance_options + 1] = {
		icon = "content/ui/materials/icons/item_types/height",
		text = Localize("loc_body_height"),
		on_pressed_function = function (widget)

			-- Decompilation error in this vicinity:
			--- BLOCK #0 1-6, warpins: 1 ---
			self:_open_appearance_options(widget.index)

			return
			--- END OF BLOCK #0 ---



		end,
		options = self:_get_appearance_category_options({
			{
				grid_template = "single",
				template = "vertical_slider",
				type = "height",
				enter = function (page_grid)

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-17, warpins: 1 ---
					local widget = page_grid.widgets[1]
					widget.content.element_selected = true
					local page = self._pages[self._active_page_number]

					self:_set_camera_height_option(nil, page.gear_visible)

					return
					--- END OF BLOCK #0 ---



				end,
				leave = function (page_grid)

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-6, warpins: 1 ---
					local widget = page_grid.widgets[1]
					widget.content.element_selected = false

					return
					--- END OF BLOCK #0 ---



				end,
				options = {
					{}
				}
			}
		})
	}

	return appearance
	--- END OF BLOCK #8 ---



end

CharacterAppearanceView._get_personality_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	local personalities = self._character_create:personality_options()
	local personality_options = {}

	local function on_personality_voice_trigger(personality_settings, widget)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-20, warpins: 1 ---
		local world = Managers.ui:world()
		local wwise_world = Managers.world:wwise_world(world)
		local sample_sound_event = personality_settings.sample_sound_event

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 21-29, warpins: 0 ---
		for i = 1, #self._page_grids[1].widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 21-29, warpins: 2 ---
			local audio_widget = self._page_grids[1].widgets[i]
			audio_widget.content.audio_playing = false
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 30-33, warpins: 1 ---
		if self._current_sound_id and WwiseWorld.is_playing(wwise_world, self._current_sound_id) and self._current_sound_widget == widget then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 46-55, warpins: 1 ---
			WwiseWorld.stop_event(wwise_world, self._current_sound_id)

			self._current_progress = 0
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 56-81, warpins: 3 ---
			WwiseWorld.stop_event(wwise_world, self._current_sound_id)

			self._current_progress = 0

			ContentBlueprints.pulse_animations.init(widget)

			self._current_sound_id = self:_play_sound(sample_sound_event)
			widget.content.audio_playing = true
			self._current_sound_widget = widget
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 82-82, warpins: 2 ---
		return
		--- END OF BLOCK #3 ---



	end

	local function on_personality_changed(value, widget)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-7, warpins: 1 ---
		self._character_create:set_personality(value)

		return
		--- END OF BLOCK #0 ---



	end

	if personalities and #personalities > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 14-17, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 18-33, warpins: 0 ---
		for i = 1, #personalities, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-33, warpins: 2 ---
			local option = personalities[i]
			local personality_settings = Personalities[option]
			personality_options[i] = {
				text = Localize(personality_settings.display_name),
				value = option,
				on_pressed_function = function (widget)

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-14, warpins: 1 ---
					on_personality_changed(option, widget)
					on_personality_voice_trigger(personality_settings, widget)
					self:_populate_backstory_info(personality_settings)

					return
					--- END OF BLOCK #0 ---



				end,
				on_voice_pressed_function = function (element, widget)

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-1, warpins: 1 ---
					return
					--- END OF BLOCK #0 ---



				end
			}
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 34-44, warpins: 3 ---
	return {
		page_template = "backstory_selection",
		template = "personality_button",
		options = personality_options,
		get_value_function = callback(self._character_create, "personality"),
		settings = Personalities
	}
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._get_crime_content = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local crimes = self._character_create:crime_options()
	local crime_options = {}

	if crimes and #crimes > 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-15, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-29, warpins: 0 ---
		for i = 1, #crimes, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-29, warpins: 2 ---
			local option = crimes[i]
			local crime_settings = Crimes[option]
			crime_options[i] = {
				text = Localize(crime_settings.display_name),
				value = option,
				on_pressed_function = function ()

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-17, warpins: 1 ---
					self._backstory_selection = {
						action = "set_crime",
						settings = crime_settings,
						option = option
					}

					self:_set_selected_backstory()
					self:_populate_backstory_info(crime_settings)

					return
					--- END OF BLOCK #0 ---



				end
			}
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 30-44, warpins: 3 ---
	return {
		page_template = "backstory_selection",
		template = "button",
		title = Localize("loc_character_create_title_crime"),
		options = crime_options,
		get_value_function = callback(self._character_create, "crime"),
		settings = Crimes
	}
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._open_appearance_options = function (self, index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-34, warpins: 1 ---
	local options = self._pages[self._active_page_number].content.options[index].options
	local camera_focus = self._pages[self._active_page_number].content.options[index].camera_focus
	local gear_visible = self._pages[self._active_page_number].content.options[index].gear_visible

	self:_set_camera(camera_focus, gear_visible)
	self:_destroy_generated_widgets(2)

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 35-42, warpins: 0 ---
	for i = 1, #options, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 35-42, warpins: 2 ---
		local option = options[i]
		local grid_index = 1 + i

		self:_populate_page_grid(grid_index, option)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 43-47, warpins: 1 ---
	if self._page_grids[2].entry and self._page_grids[2].entry.enter then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 54-61, warpins: 1 ---
		local page = self._page_grids[2]

		self._page_grids[2].entry.enter(page)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 62-62, warpins: 3 ---
	return
	--- END OF BLOCK #3 ---



end

CharacterAppearanceView._get_pages = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-193, warpins: 1 ---
	return {
		{
			show_character = false,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-20, warpins: 1 ---
				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)
				self:_setup_planets_widgets()

				local option = page.content.get_value_function()

				if option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 21-34, warpins: 1 ---
					local planet_settings = HomePlanets[option]

					self:_populate_backstory_info(planet_settings)
					self:_move_background_to_position(HomePlanets[option], true)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 35-35, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end,
			leave = function ()

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-4, warpins: 1 ---
				if self._planet_background_animation_id and self:_is_animation_active(self._planet_background_animation_id) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 13-24, warpins: 1 ---
					self._reset_background = true

					self:_complete_animation(self._planet_background_animation_id)

					self._planet_background_animation_id = nil
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 25-29, warpins: 3 ---
				self:_destroy_planets_widgets()

				return
				--- END OF BLOCK #1 ---



			end,
			title = Localize("loc_character_create_title_home_planet"),
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_empty",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			description = Localize("loc_character_creator_home_planet_introduction"),
			background = {
				value = "content/ui/materials/backgrounds/backstory/home_planet",
				uvs = {
					{
						0,
						0
					},
					{
						0.17,
						0.17
					}
				},
				size = {
					11016,
					6400
				}
			},
			content = self:_get_planet_content()
		},
		{
			show_character = false,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-16, warpins: 1 ---
				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)

				local option = page.content.get_value_function()

				if option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 17-23, warpins: 1 ---
					local childhood_settings = Childhood[option]

					self:_populate_backstory_info(childhood_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 24-24, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end,
			title = Localize("loc_character_childhood_title_name"),
			description = Localize("loc_character_creator_childhood_introduction"),
			background = {
				value = "content/ui/materials/backgrounds/backstory/childhood",
				size = {
					1920,
					1080
				}
			},
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_childhood",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			content = self:_get_childhood_content()
		},
		{
			show_character = false,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-16, warpins: 1 ---
				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)

				local option = page.content.get_value_function()

				if option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 17-23, warpins: 1 ---
					local growing_up_settings = GrowingUp[option]

					self:_populate_backstory_info(growing_up_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 24-24, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end,
			title = Localize("loc_character_growing_up_title_name"),
			description = Localize("loc_character_creator_growing_up_introduction"),
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_growingup",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			background = {
				value = "content/ui/materials/backgrounds/backstory/growing_up",
				size = {
					1920,
					1080
				}
			},
			content = self:_get_growing_up_content()
		},
		{
			show_character = false,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-16, warpins: 1 ---
				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)

				local option = page.content.get_value_function()

				if option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 17-23, warpins: 1 ---
					local formative_event_settings = FormativeEvent[option]

					self:_populate_backstory_info(formative_event_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 24-24, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end,
			title = Localize("loc_character_event_title_name"),
			description = Localize("loc_character_creator_formative_event_introduction"),
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_formative",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			background = {
				value = "content/ui/materials/backgrounds/backstory/formative_event",
				size = {
					1920,
					1080
				}
			},
			content = self:_get_formative_event_content()
		},
		{
			show_character = true,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-22, warpins: 1 ---
				page.content = self:_get_appearance_content()

				self:_check_appearance_continue_block(page.content)
				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)

				return
				--- END OF BLOCK #0 ---



			end,
			title = Localize("loc_character_create_title_appearance"),
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_empty",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			content = {},
			get_value_function = function ()

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-2, warpins: 1 ---
				return 1
				--- END OF BLOCK #0 ---



			end
		},
		{
			show_rewards_text = false,
			gear_visible = false,
			show_character = true,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-21, warpins: 1 ---
				page.content = self:_get_personality_content()

				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)

				local option = page.content.get_value_function()

				if option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 22-28, warpins: 1 ---
					local persoanlity_settings = Personalities[option]

					self:_populate_backstory_info(persoanlity_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 29-29, warpins: 2 ---
				return
				--- END OF BLOCK #1 ---



			end,
			title = Localize("loc_character_create_title_personality"),
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_empty",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			description = Localize("loc_character_creator_personality_introduction")
		},
		{
			gear_visible = true,
			show_character = true,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-17, warpins: 1 ---
				local profile = self._character_create:profile()
				local selected_archetype = profile.archetype.name
				local selected_gender = self._character_create:gender()

				if self._character_name_status.archetype ~= selected_archetype or self._character_name_status.gender ~= selected_gender then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 23-37, warpins: 2 ---
					self._character_name_status.archetype = selected_archetype
					self._character_name_status.gender = selected_gender

					self._character_create:_fetch_suggested_names_by_profile():next(function ()

						-- Decompilation error in this vicinity:
						--- BLOCK #0 1-5, warpins: 1 ---
						if self._character_name_status.custom == false then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 6-9, warpins: 1 ---
							self:_randomize_character_name()
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 10-10, warpins: 2 ---
						return
						--- END OF BLOCK #1 ---



					end)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 38-53, warpins: 2 ---
				self:_populate_page_grid(1, page.content)
				self:_show_default_page(page)

				local option = page.content.get_value_function()

				if option then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 54-60, warpins: 1 ---
					local crime_settings = Crimes[option]

					self:_populate_backstory_info(crime_settings)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #1 ---

				FLOW; TARGET BLOCK #2



				-- Decompilation error in this vicinity:
				--- BLOCK #2 61-61, warpins: 2 ---
				return
				--- END OF BLOCK #2 ---



			end,
			title = Localize("loc_character_create_title_crime"),
			top_frame = {
				texture_map = "content/ui/textures/frames/char_creator_placeholder_empty",
				size = {
					480,
					176
				},
				offset = {
					0,
					-160,
					1
				},
				title_offset = {
					0,
					10,
					2
				}
			},
			description = Localize("loc_character_creator_sentence_introduction"),
			content = self:_get_crime_content()
		},
		{
			gear_visible = true,
			show_character = true,
			enter = function (page)

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-9, warpins: 1 ---
				self:_show_final_page(page)

				if self._using_cursor_navigation == false then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 10-16, warpins: 1 ---
					self._page_widgets[1].content.hotspot.is_focused = true
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 17-25, warpins: 2 ---
				self:_move_camera()
				self:_handle_continue_button_text()

				return
				--- END OF BLOCK #1 ---



			end,
			leave = function ()

				-- Decompilation error in this vicinity:
				--- BLOCK #0 1-17, warpins: 1 ---
				self:_move_camera(true)

				self._await_validation = false

				self:_create_errors_name_input()
				self:_destroy_support_page_widgets()

				return
				--- END OF BLOCK #0 ---



			end
		}
	}
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._check_appearance_continue_block = function (self, page_content)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	local options = page_content.options

	if type(options) == "table" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-10, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 11-76, warpins: 0 ---
		for i = 1, #options, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-17, warpins: 2 ---
			local block_continue = false
			local option = options[i]

			if type(option) == "table" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 18-22, warpins: 1 ---
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 23-71, warpins: 0 ---
				for f = 1, #option.options, 1 do

					-- Decompilation error in this vicinity:
					--- BLOCK #0 23-27, warpins: 2 ---
					local selected_value = option.options[f].get_value_function and option.options[f].get_value_function()

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 32-36, warpins: 2 ---
					if option.options[f].options then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 37-44, warpins: 1 ---
						local selected_option = nil

						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 45-54, warpins: 0 ---
						for j = 1, #option.options[f].options, 1 do

							-- Decompilation error in this vicinity:
							--- BLOCK #0 45-51, warpins: 2 ---
							local appearance_option = option.options[f].options[j]

							if appearance_option.value == selected_value then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 52-53, warpins: 1 ---
								selected_option = appearance_option

								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 54-54, warpins: 1 ---
								break
								--- END OF BLOCK #1 ---



							end
							--- END OF BLOCK #0 ---

							FLOW; TARGET BLOCK #1



							-- Decompilation error in this vicinity:
							--- BLOCK #1 54-54, warpins: 1 ---
							--- END OF BLOCK #1 ---



						end

						--- END OF BLOCK #1 ---

						FLOW; TARGET BLOCK #2



						-- Decompilation error in this vicinity:
						--- BLOCK #2 55-59, warpins: 2 ---
						if type(selected_option) == "table" then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 60-65, warpins: 1 ---
							local should_present_option = self:_should_present_option(selected_option)

							if should_present_option and should_present_option.should_present_option == false then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 69-70, warpins: 1 ---
								block_continue = true

								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 71-71, warpins: 1 ---
								break
								--- END OF BLOCK #1 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #2 ---



					end
					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 71-71, warpins: 4 ---
					--- END OF BLOCK #2 ---



				end
				--- END OF BLOCK #1 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 72-76, warpins: 3 ---
			self._block_continue[self._active_page_number][i] = block_continue
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 77-77, warpins: 2 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._check_valid_options = function (self, category_options)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-129, warpins: 0 ---
	for i = 1, #category_options, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-12, warpins: 2 ---
		local category_option = category_options[i]
		local requires_reselection = false
		local filtered_options = {}
		local options = category_option.options
		local no_option = category_option.no_option
		local focused_value = category_option.get_value_function and category_option.get_value_function()

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 15-18, warpins: 2 ---
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 19-46, warpins: 0 ---
		for f = 1, #options, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 19-27, warpins: 2 ---
			local option = options[f]
			local should_present_option = self:_should_present_option(option)
			option.should_present_option = should_present_option

			if should_present_option.should_present_option == false and focused_value == option.value and requires_reselection == false then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 33-33, warpins: 1 ---
				requires_reselection = true
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 34-36, warpins: 4 ---
			if should_present_option.should_present_option == true or (should_present_option.should_present_option == false and should_present_option.reason) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-45, warpins: 2 ---
				filtered_options[#filtered_options + 1] = option
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 46-46, warpins: 3 ---
			--- END OF BLOCK #2 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 47-48, warpins: 1 ---
		if requires_reselection == true then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 49-56, warpins: 1 ---
			local random_index = math.random(1, #filtered_options)
			local new_option = filtered_options[random_index]

			new_option.on_pressed_function()
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 57-62, warpins: 2 ---
		local temp_backstory_enabled = {}
		local temp_backstory_disabled = {}
		local temp_remaining = {}
		local start_count = 1

		if no_option then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 63-67, warpins: 1 ---
			temp_backstory_enabled[#temp_backstory_enabled + 1] = filtered_options[start_count]
			start_count = start_count + 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #4 ---

		FLOW; TARGET BLOCK #5



		-- Decompilation error in this vicinity:
		--- BLOCK #5 68-71, warpins: 2 ---
		--- END OF BLOCK #5 ---

		FLOW; TARGET BLOCK #6



		-- Decompilation error in this vicinity:
		--- BLOCK #6 72-113, warpins: 0 ---
		for i = start_count, #filtered_options, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 72-75, warpins: 2 ---
			local filtered_option = filtered_options[i]

			if filtered_option.should_present_option and filtered_option.should_present_option.should_present_option == true and filtered_option.should_present_option.reason then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 84-87, warpins: 1 ---
				temp_backstory_enabled[#temp_backstory_enabled + 1] = filtered_option
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 88-90, warpins: 3 ---
				if filtered_option.should_present_option and filtered_option.should_present_option.should_present_option == false and filtered_option.should_present_option.reason then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 99-102, warpins: 1 ---
					temp_backstory_disabled[#temp_backstory_disabled + 1] = filtered_option
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 103-105, warpins: 3 ---
					if not filtered_option.should_present_option or filtered_option.should_present_option.should_present_option == true then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 110-112, warpins: 2 ---
						temp_remaining[#temp_remaining + 1] = filtered_option
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 113-113, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #6 ---

		FLOW; TARGET BLOCK #7



		-- Decompilation error in this vicinity:
		--- BLOCK #7 114-129, warpins: 1 ---
		temp_backstory_enabled = table.append(temp_backstory_enabled, temp_remaining)
		temp_backstory_enabled = table.append(temp_backstory_enabled, temp_backstory_disabled)
		filtered_options = temp_backstory_enabled
		category_options[i].options = filtered_options
		--- END OF BLOCK #7 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 130-130, warpins: 1 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._create_errors_name_input = function (self, errors)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._name_input_errors_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-15, warpins: 0 ---
		for i = 1, #self._name_input_errors_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-15, warpins: 2 ---
			local widget = self._name_input_errors_widgets[i]

			self:_unregister_widget_name(widget.name)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 16-17, warpins: 1 ---
		self._name_input_errors_widgets = {}
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-19, warpins: 2 ---
	if errors then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-32, warpins: 1 ---
		local error_widgets = {}
		local reference_widget = self._page_widgets[1]
		local reference_offset = reference_widget.offset
		local reference_size = reference_widget.content.size
		local margin = {
			0,
			20
		}
		local offset_text = 0
		local margin_text = 30

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 33-73, warpins: 0 ---
		for i = 1, #errors, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-73, warpins: 2 ---
			local error = errors[i]
			local name = "error_" .. i
			local definition = Definitions.error_text_definitions
			local widget = self:_create_widget(name, definition)
			widget.content.text = error
			widget.offset = {
				0,
				offset_text,
				2
			}
			local style = widget.style.text
			local width, height = UIRenderer.text_size(self._ui_renderer, error, style.font_type, style.font_size, {
				reference_size[1],
				0
			}, style)
			widget.content.size = {
				reference_size[1],
				height
			}
			offset_text = offset_text - height - margin_text
			error_widgets[#error_widgets + 1] = widget
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 74-74, warpins: 1 ---
		self._name_input_errors_widgets = error_widgets
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 75-75, warpins: 2 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._destroy_support_page_widgets = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._page_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-15, warpins: 0 ---
		for i = 1, #self._page_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-15, warpins: 2 ---
			local widget = self._page_widgets[i]

			self:_unregister_widget_name(widget.name)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 16-17, warpins: 1 ---
		self._page_widgets = nil
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-18, warpins: 2 ---
	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView._handle_input = function (self, input_service)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._page_widgets and not self._using_cursor_navigation and input_service:get("hotkey_menu_special_2") then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-15, warpins: 1 ---
		self:_randomize_character_name()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-21, warpins: 4 ---
	if input_service:get("navigate_up_continuous") then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 22-26, warpins: 1 ---
		self:_grid_navigation("up")
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 27-32, warpins: 1 ---
		if input_service:get("navigate_down_continuous") then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-37, warpins: 1 ---
			self:_grid_navigation("down")
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 38-43, warpins: 1 ---
			if input_service:get("navigate_left_continuous") then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 44-48, warpins: 1 ---
				self:_grid_navigation("left")
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 49-54, warpins: 1 ---
				if input_service:get("navigate_right_continuous") then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 55-59, warpins: 1 ---
					self:_grid_navigation("right")
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 60-62, warpins: 1 ---
					if not self._using_cursor_navigation and input_service:get("secondary_action_pressed") then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 69-75, warpins: 1 ---
						if not self._widgets_by_name.continue_button.content.hotspot.disabled then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 76-79, warpins: 1 ---
							self:_on_continue_pressed()
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 80-82, warpins: 2 ---
						if self._using_cursor_navigation and input_service:get("confirm_pressed") and self._active_page_number == 8 and self._page_widgets and self._page_widgets[1].content.is_writing and not self._widgets_by_name.continue_button.content.hotspot.disabled then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 108-110, warpins: 1 ---
							self:_on_continue_pressed()
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 111-111, warpins: 13 ---
	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._grid_navigation = function (self, start_direction)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local function calculate_nearest_index_position_new_grid(grid_index, index, new_grid_index, is_going_right)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-50, warpins: 1 ---
		local new_max_widgets_per_column = self._page_grids[new_grid_index].max_widgets_per_column
		local total_columns = self._page_grids[grid_index].num_columns
		local new_total_columns = self._page_grids[new_grid_index].num_columns
		local scrollbar_progress = self._page_grids[grid_index].grid:scrollbar_progress()
		local grid_size = self._page_grids[grid_index].grid:area_length()
		local grid_total_size = self._page_grids[grid_index].grid:length()
		local element_type = self._page_grids[grid_index].entry.template
		local element_size = ContentBlueprints.blueprints[element_type].size
		local element_spacing = {
			0,
			0
		}
		local grid_template = self._page_grids[new_grid_index].entry.grid_template

		if grid_template == "icon" or grid_template == "icon_small" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 53-53, warpins: 2 ---
			element_spacing = {
				10,
				10
			}
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 54-102, warpins: 2 ---
		local element_total_height = element_size[2] + element_spacing[2]
		local start_height = (grid_total_size - grid_size) * math.abs(scrollbar_progress)
		local row_position = math.ceil(index / total_columns)
		local element_start_height_position = (row_position - 1) * element_total_height - start_height
		local element_mid_height_position = element_start_height_position + element_total_height * 0.5
		local new_grid_size = self._page_grids[new_grid_index].grid:area_length()
		local new_grid_total_size = self._page_grids[new_grid_index].grid:length()
		local new_element_type = self._page_grids[new_grid_index].entry.template
		local new_element_size = ContentBlueprints.blueprints[new_element_type].size
		local new_element_spacing = {
			0,
			0
		}
		local new_grid_template = self._page_grids[new_grid_index].entry.grid_template

		if new_grid_template == "icon" or new_grid_template == "icon_small" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 105-105, warpins: 2 ---
			new_element_spacing = {
				10,
				10
			}
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 106-132, warpins: 2 ---
		local new_element_total_height = new_element_size[2] + new_element_spacing[2]
		local new_scrollbar_progress = self._page_grids[new_grid_index].grid:scrollbar_progress()
		local new_start_height = (new_grid_total_size - new_grid_size) * math.abs(new_scrollbar_progress)
		local element_on_previous_mid_height = math.ceil(element_mid_height_position / new_element_total_height)
		local new_start_row = math.ceil(new_start_height / new_element_total_height)
		local new_index_row = element_on_previous_mid_height + new_start_row
		new_index_row = (new_max_widgets_per_column > new_index_row and new_index_row) or new_max_widgets_per_column
		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 136-138, warpins: 2 ---
		local new_index = nil

		if is_going_right then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 139-142, warpins: 1 ---
			new_index = (new_index_row - 1) * new_total_columns + 1
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 143-143, warpins: 1 ---
			new_index = new_index_row * new_total_columns
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 144-144, warpins: 2 ---
		return new_index
		--- END OF BLOCK #4 ---



	end

	local index = self._navigation.index or 0
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-10, warpins: 2 ---
	local grid_index = self._navigation.grid or 1
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 12-19, warpins: 2 ---
	local current_grid = self._page_grids[grid_index]
	local total_index = #current_grid.widgets
	local new_index, new_grid_index = nil
	local direction = start_direction

	if not current_grid or not current_grid.grid then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 23-24, warpins: 2 ---
		return
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 25-28, warpins: 2 ---
	if current_grid.grid._direction == "right" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 29-30, warpins: 1 ---
		if start_direction == "up" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 31-32, warpins: 1 ---
			direction = "right"
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-34, warpins: 1 ---
			if start_direction == "down" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 35-36, warpins: 1 ---
				direction = "left"
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 37-38, warpins: 1 ---
				if start_direction == "left" then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 39-40, warpins: 1 ---
					direction = "up"
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 41-42, warpins: 1 ---
					if start_direction == "right" then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 43-43, warpins: 1 ---
						direction = "down"
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 44-45, warpins: 6 ---
	if index == 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 46-47, warpins: 1 ---
		if direction == "up" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 48-49, warpins: 1 ---
			new_index = total_index
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 50-50, warpins: 1 ---
			new_index = 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 51-52, warpins: 2 ---
		new_grid_index = grid_index
		--- END OF BLOCK #1 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 53-61, warpins: 1 ---
		local total_columns = current_grid.num_columns
		local current_row = math.ceil(index / total_columns)
		local current_column = (index % total_columns > 0 and index % total_columns) or total_columns
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 66-69, warpins: 2 ---
		local start_index_current_column = current_column
		local last_row = (current_column <= total_index % total_columns and math.ceil(total_index / total_columns)) or math.floor(total_index / total_columns)
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 80-84, warpins: 2 ---
		local end_index_current_column = (last_row - 1) * total_columns + current_column

		if direction == "up" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 85-88, warpins: 1 ---
			new_index = index - total_columns
			new_grid_index = grid_index

			if new_index < start_index_current_column then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 89-90, warpins: 1 ---
				new_index = end_index_current_column
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 91-92, warpins: 1 ---
			if direction == "down" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 93-96, warpins: 1 ---
				new_index = index + total_columns
				new_grid_index = grid_index

				if end_index_current_column < new_index then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 97-98, warpins: 1 ---
					new_index = start_index_current_column
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 99-100, warpins: 1 ---
				if direction == "right" then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 101-102, warpins: 1 ---
					new_index = (index and index + 1) or 1
					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 107-109, warpins: 2 ---
					new_grid_index = grid_index

					if total_index < new_index or current_row < math.ceil(new_index / total_columns) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 116-116, warpins: 2 ---
						new_grid_index = new_grid_index + 1
						--- END OF BLOCK #0 ---



					end

					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 117-120, warpins: 2 ---
					local is_next_grid_valid = self._page_grids[new_grid_index] and self._page_grids[new_grid_index].can_navigate

					--- END OF BLOCK #2 ---

					FLOW; TARGET BLOCK #3



					-- Decompilation error in this vicinity:
					--- BLOCK #3 124-125, warpins: 2 ---
					if not is_next_grid_valid then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 126-128, warpins: 1 ---
						new_index = index
						new_grid_index = grid_index
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 129-130, warpins: 1 ---
						if new_grid_index ~= grid_index and new_grid_index == 2 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 133-140, warpins: 1 ---
							new_index = calculate_nearest_index_position_new_grid(grid_index, index, new_grid_index, true)
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 141-142, warpins: 2 ---
							if new_grid_index ~= grid_index then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 143-150, warpins: 1 ---
								new_index = calculate_nearest_index_position_new_grid(grid_index, index, new_grid_index, true)
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #3 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 151-152, warpins: 1 ---
					if direction == "left" then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 153-154, warpins: 1 ---
						new_index = (index and index - 1) or 1
						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 159-162, warpins: 2 ---
						new_grid_index = grid_index

						if new_index < 1 or math.ceil(new_index / total_columns) < current_row then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 169-169, warpins: 2 ---
							new_grid_index = new_grid_index - 1
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #1 ---

						FLOW; TARGET BLOCK #2



						-- Decompilation error in this vicinity:
						--- BLOCK #2 170-173, warpins: 2 ---
						local is_next_grid_valid = self._page_grids[new_grid_index] and self._page_grids[new_grid_index].can_navigate

						--- END OF BLOCK #2 ---

						FLOW; TARGET BLOCK #3



						-- Decompilation error in this vicinity:
						--- BLOCK #3 177-178, warpins: 2 ---
						if not is_next_grid_valid then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 179-181, warpins: 1 ---
							new_index = index
							new_grid_index = grid_index
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 182-183, warpins: 1 ---
							if new_grid_index ~= grid_index and new_grid_index == 1 then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 186-193, warpins: 1 ---
								new_index = 1

								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 194-204, warpins: 0 ---
								for i = 1, #self._page_grids[new_grid_index].widgets, 1 do

									-- Decompilation error in this vicinity:
									--- BLOCK #0 194-201, warpins: 2 ---
									local widget = self._page_grids[new_grid_index].widgets[i]

									if widget.content.element_selected == true then

										-- Decompilation error in this vicinity:
										--- BLOCK #0 202-203, warpins: 1 ---
										new_index = i

										--- END OF BLOCK #0 ---

										FLOW; TARGET BLOCK #1



										-- Decompilation error in this vicinity:
										--- BLOCK #1 204-204, warpins: 1 ---
										break
										--- END OF BLOCK #1 ---



									end
									--- END OF BLOCK #0 ---

									FLOW; TARGET BLOCK #1



									-- Decompilation error in this vicinity:
									--- BLOCK #1 204-204, warpins: 1 ---
									--- END OF BLOCK #1 ---



								end
								--- END OF BLOCK #1 ---

								FLOW; TARGET BLOCK #2



								-- Decompilation error in this vicinity:
								--- BLOCK #2 205-205, warpins: 1 ---
								--- END OF BLOCK #2 ---



							else

								-- Decompilation error in this vicinity:
								--- BLOCK #0 206-207, warpins: 2 ---
								if new_grid_index ~= grid_index then

									-- Decompilation error in this vicinity:
									--- BLOCK #0 208-213, warpins: 1 ---
									new_index = calculate_nearest_index_position_new_grid(grid_index, index, new_grid_index)
									--- END OF BLOCK #0 ---



								end
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #3 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 214-220, warpins: 15 ---
	self:_update_current_navigation_position(new_grid_index, new_index)

	return
	--- END OF BLOCK #5 ---



end

CharacterAppearanceView._move_background_to_position = function (self, planet, skip_animation)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local start_planet_widget, end_planet_widget = nil
	local background = self._pages[self._active_page_number].background

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-35, warpins: 0 ---
	for i = 1, #self._planet_widgets, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-16, warpins: 2 ---
		local widget = self._planet_widgets[i]

		if widget.content.current_planet then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-22, warpins: 1 ---
			if widget.content.planet_data.id == planet.id then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-23, warpins: 1 ---
				return
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 24-27, warpins: 2 ---
			widget.content.current_planet = false
			start_planet_widget = widget
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 28-33, warpins: 2 ---
		if planet.id == widget.content.planet_data.id then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 34-34, warpins: 1 ---
			end_planet_widget = widget
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 35-35, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 36-37, warpins: 1 ---
	if start_planet_widget then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 38-40, warpins: 1 ---
		start_planet_widget.content.visible = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 41-49, warpins: 2 ---
	end_planet_widget.content.current_planet = true
	local texture_size = background.size
	local uv_diff = 1920 / background.size[1]
	local start_position = start_planet_widget and start_planet_widget.content.planet_data.position
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 53-56, warpins: 2 ---
	local end_position = planet.position
	local start_uv = nil

	if start_planet_widget then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 57-87, warpins: 1 ---
		start_uv = {
			{
				start_position[1] / texture_size[1] - uv_diff / 2,
				start_position[2] / texture_size[2] - uv_diff / 2
			},
			{
				start_position[1] / texture_size[1] + uv_diff / 2,
				start_position[2] / texture_size[2] + uv_diff / 2
			}
		}
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 88-92, warpins: 1 ---
		start_uv = self._widgets_by_name.background.style.texture.uvs
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 93-130, warpins: 2 ---
	local end_uv = {}
	end_uv[1] = {
		end_position[1] / texture_size[1] - uv_diff / 2,
		end_position[2] / texture_size[2] - uv_diff / 2
	}
	end_uv[2] = {
		end_position[1] / texture_size[1] + uv_diff / 2,
		end_position[2] / texture_size[2] + uv_diff / 2
	}
	local params = {}
	params.start_uv = start_uv
	params.end_uv = end_uv
	params.planets = self._planet_widgets
	params.start_planet_widget = start_planet_widget
	params.end_planet_widget = end_planet_widget

	if skip_animation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 131-140, warpins: 1 ---
		self._widgets_by_name.background.style.texture.uvs = end_uv

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 141-149, warpins: 0 ---
		for i = 1, #self._planet_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 141-149, warpins: 2 ---
			local widget = self._planet_widgets[i]
			widget.content.visible = false
			widget.content.current_planet = false
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 150-170, warpins: 1 ---
		end_planet_widget.content.visible = true
		end_planet_widget.style.planet.offset[1] = CharacterAppearanceViewSettings.planet_offset[1]
		end_planet_widget.style.planet.offset[2] = CharacterAppearanceViewSettings.planet_offset[2]
		end_planet_widget.content.current_planet = true
		--- END OF BLOCK #2 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 171-173, warpins: 1 ---
		if self._planet_background_animation_id and self:_is_animation_active(self._planet_background_animation_id) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 180-185, warpins: 1 ---
			self:_complete_animation(self._planet_background_animation_id)

			self._planet_background_animation_id = nil
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 186-192, warpins: 3 ---
		self._planet_background_animation_id = self:_start_animation("on_planet_select", self._widgets_by_name, params)
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 193-193, warpins: 2 ---
	return
	--- END OF BLOCK #6 ---



end

CharacterAppearanceView._setup_planets_widgets = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	local planet_definition = UIWidget.create_definition({
		{
			value_id = "planet",
			style_id = "planet",
			pass_type = "texture",
			value = "content/ui/materials/base/ui_default_base",
			style = {
				vertical_alignment = "center",
				horizontal_alignment = "center",
				offset = {
					0,
					0,
					1
				}
			}
		}
	}, "screen")
	local widgets = {}

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-49, warpins: 0 ---
	for option_name, planet_values in pairs(HomePlanets) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-47, warpins: 1 ---
		local name = string.format("planet_%s", option_name)
		local widget = self:_create_widget(name, planet_definition)
		local style = widget.style
		local content = widget.content
		style.planet.size = planet_values.image.size
		style.planet.material_values = {
			texture_map = planet_values.image.path
		}
		content.planet_data = planet_values
		widget.offset = {
			0,
			0,
			2
		}
		widget.content.visible = false
		widgets[#widgets + 1] = widget
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 48-49, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 50-51, warpins: 1 ---
	self._planet_widgets = widgets

	return
	--- END OF BLOCK #2 ---



end

CharacterAppearanceView._destroy_planets_widgets = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._planet_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-15, warpins: 0 ---
		for i = 1, #self._planet_widgets, 1 do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-15, warpins: 2 ---
			local widget = self._planet_widgets[i]

			self:_unregister_widget_name(widget.name)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-18, warpins: 2 ---
	self._planet_widgets = nil

	return
	--- END OF BLOCK #1 ---



end

CharacterAppearanceView.on_resolution_modified = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	CharacterAppearanceView.super.on_resolution_modified(self)
	self:_align_background()

	return
	--- END OF BLOCK #0 ---



end

CharacterAppearanceView._align_background = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-14, warpins: 1 ---
	local screen_width = RESOLUTION_LOOKUP.width
	local screen_height = RESOLUTION_LOOKUP.height
	local inverse_scale = RESOLUTION_LOOKUP.inverse_scale
	local parent_size_x = screen_width * inverse_scale
	local parent_size_y = screen_height * inverse_scale
	local reference_size = (self._pages[self._active_page_number].background and self._pages[self._active_page_number].background.size) or {
		1920,
		1080
	}
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 23-34, warpins: 2 ---
	local width_reference_ratio = reference_size[1] / reference_size[2]
	local height_reference_ratio = reference_size[2] / reference_size[1]
	local screen_ratio = screen_width / screen_height
	local size = {}
	size[1] = parent_size_x
	size[2] = parent_size_y

	if width_reference_ratio < screen_ratio then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 35-40, warpins: 1 ---
		size = {
			parent_size_x,
			parent_size_x * height_reference_ratio
		}
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 41-42, warpins: 1 ---
		if screen_ratio < width_reference_ratio then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 43-47, warpins: 1 ---
			size = {
				parent_size_y * width_reference_ratio,
				parent_size_y
			}
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 48-66, warpins: 3 ---
	self._widgets_by_name.background.content.size = size
	self._widgets_by_name.background.offset = {
		parent_size_x / 2 - size[1] / 2,
		parent_size_y / 2 - size[2] / 2,
		0
	}

	return
	--- END OF BLOCK #2 ---



end

return CharacterAppearanceView
